(this["webpackJsonplearningxl-frontend"]=this["webpackJsonplearningxl-frontend"]||[]).push([[3],{121:function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"g",(function(){return s})),a.d(t,"f",(function(){return i})),a.d(t,"e",(function(){return o})),a.d(t,"b",(function(){return l})),a.d(t,"c",(function(){return u})),a.d(t,"d",(function(){return d}));var n=a(199),c=a.n(n),r=function(e){return String(e[0]).toUpperCase()+String(e.substring(1)).toLowerCase()},s=function(e){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())},i=function(e){return e=new Date(e).getTime(),c()(e).fromNow()},o=function(e){return new Date(1e3*e).toISOString().substr(11,8)},l=function(e){return new Date(e).toLocaleString()},u=function(e){return e.filter((function(e){return!0===e.isClicked})).length},d=function(e){return e.filter((function(e){return!e.isClicked})).length}},13:function(e,t,a){"use strict";a.d(t,"d",(function(){return n})),a.d(t,"f",(function(){return c})),a.d(t,"e",(function(){return r})),a.d(t,"q",(function(){return s})),a.d(t,"s",(function(){return i})),a.d(t,"r",(function(){return o})),a.d(t,"h",(function(){return l})),a.d(t,"j",(function(){return u})),a.d(t,"i",(function(){return d})),a.d(t,"g",(function(){return j})),a.d(t,"a",(function(){return b})),a.d(t,"c",(function(){return O})),a.d(t,"b",(function(){return h})),a.d(t,"k",(function(){return m})),a.d(t,"m",(function(){return x})),a.d(t,"l",(function(){return f})),a.d(t,"n",(function(){return p})),a.d(t,"o",(function(){return g})),a.d(t,"p",(function(){return v}));var n="LOGIN_USER",c="LOGIN_USER_SUCCESS",r="LOGIN_USER_ERROR",s="VERIFY-ACCESS-TOKEN",i="VERIFY-ACCESS-TOKEN-SUCCESS",o="VERIFY-ACCESS-TOKEN-ERROR",l="REGISTER_USER",u="REGISTER_USER_SUCCESS",d="REGISTER_USER_ERROR",j="LOGOUT_USER",b="FORGOT_PASSWORD",O="FORGOT_PASSWORD_SUCCESS",h="FORGOT_PASSWORD_ERROR",m="RESET_PASSWORD",x="RESET_PASSWORD_SUCCESS",f="RESET_PASSWORD_ERROR",p="TOAST-ADD",g="TOAST-REMOVE",v="TOAST-REMOVE-ALL"},140:function(e,t,a){"use strict";var n=a(34),c=a(21),r="".concat(c.a,"/videos"),s={addVideo:function(e){var t=e.title,a=e.file,c=new FormData,s="".concat(r);return c.append("title",t),c.append("file",a),n.default.post(s,c)},getVideos:function(e){var t=e.page,a=e.perPage,c="".concat(r,"?page=").concat(t,"&perPage=").concat(a);return n.default.get(c)},getVideo:function(e){var t=e.id;return n.default.get("".concat(r,"/").concat(t))},updateVideo:function(e){var t=e.id,a=e.title,c=e.file,s=new FormData,i="".concat(r,"/").concat(t,"/update");return s.append("title",a),s.append("file",c),n.default.put(i,s)},remove:function(e){var t=e.id,a="".concat(r,"/").concat(t);return n.default.delete(a)},removeVideo:function(e){var t=e.id,a="".concat(r,"/").concat(t);return n.default.delete("".concat(a,"/video"))}};t.a=s},141:function(e,t,a){"use strict";var n=a(34),c=a(21),r="".concat(c.a,"/users"),s={createOne:function(e){var t=e.email,a=e.gender,c=e.fullName,s=e.password;return n.default.post("".concat(r),{email:t,gender:a,fullName:c,password:s})},getAll:function(e){var t=e.page,a=e.perPage,c="".concat(r,"?page=").concat(t,"&perPage=").concat(a);return n.default.get(c)},getOne:function(e){var t=e.id;return n.default.get("".concat(r,"/").concat(t))},updateOne:function(e){var t=e.id,a=e.email,c=e.fullName,s=e.gender,i="".concat(r,"/").concat(t,"/update");return n.default.put(i,{email:a,fullName:c,gender:s})},removeOne:function(e){var t=e.id,a="".concat(r,"/").concat(t);return n.default.delete(a)}};t.a=s},16:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n={Danger:"DANGER",Warning:"WARNING",Success:"SUCCESS",Info:"INFO"}},203:function(e,t,a){"use strict";a.r(t);var n=a(21),c=a(58),r=Object.values(c.a),s=localStorage.getItem(n.c.UITheme),i=s&&r.includes(s)?s:n.e;localStorage.setItem(n.c.UITheme,i);a(204)("./".concat(String(i).toLocaleLowerCase(),".scss")).then((function(){a(34),a(390)}))},204:function(e,t,a){var n={"./colors.scss":[393,8],"./dark.scss":[394,9],"./light.scss":[395,10]};function c(e){if(!a.o(n,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=n[e],c=t[0];return a.e(t[1]).then((function(){return a.t(c,7)}))}c.keys=function(){return Object.keys(n)},c.id=204,e.exports=c},21:function(e,t,a){"use strict";a.d(t,"e",(function(){return n})),a.d(t,"c",(function(){return c})),a.d(t,"a",(function(){return o})),a.d(t,"b",(function(){return l})),a.d(t,"d",(function(){return u}));var n=a(58).a.Light,c={AccessToken:"access-token",UITheme:"ui-theme"},r="production",s="http://localhost",i={development:{APIServerURL:"".concat(s,":3300/apis"),AssetsServerURL:"".concat(s,":3300"),SocketServerURL:"".concat(s,":3030")},production:{APIServerURL:"http://188.166.229.76/apis",AssetsServerURL:"http://188.166.229.76",SocketServerURL:"http://188.166.229.76:3030"}};console.log("env: ",r);var o=i[r].APIServerURL,l=i[r].AssetsServerURL,u=i[r].SocketServerURL},22:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return l})),a.d(t,"c",(function(){return d}));var n=a(77),c=a(32),r=a(84),s={loginUserAction:c.c,logoutUserAction:c.f},i=Object(n.b)((function(e){var t=e.authReducer;return{user:t.user,authError:t.error}}),s),o={verifyAccessTokenAction:c.k},l=Object(n.b)((function(e){var t=e.authReducer;return{tokenVerified:!(void 0===t.user),authenticated:!!t.user,userRole:t.user?t.user.role:null}}),o),u={addToastAction:r.a,removeToastAction:r.b},d=Object(n.b)((function(e){return{toasts:e.toastReducer.toasts}}),u)},30:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return c}));var n={SuperAdmin:"SUPER-ADMIN",Admin:"ADMIN",User:"User"},c={Male:"MALE",Female:"FEMALE",Other:"OTHER"}},32:function(e,t,a){"use strict";a.d(t,"c",(function(){return c})),a.d(t,"e",(function(){return r})),a.d(t,"d",(function(){return s})),a.d(t,"k",(function(){return i})),a.d(t,"m",(function(){return o})),a.d(t,"l",(function(){return l})),a.d(t,"b",(function(){return u})),a.d(t,"a",(function(){return d})),a.d(t,"j",(function(){return j})),a.d(t,"i",(function(){return b})),a.d(t,"h",(function(){return O})),a.d(t,"g",(function(){return h})),a.d(t,"f",(function(){return m}));var n=a(13),c=function(e,t){return{type:n.d,payload:{loginUserDto:e,history:t}}},r=function(){return{type:n.f,payload:{}}},s=function(e){return{type:n.e,payload:{message:e}}},i=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return{type:n.q,payload:{history:e,forceRedirect:t}}},o=function(e){return{type:n.s,payload:{user:e}}},l=function(e){return{type:n.r,payload:{message:e}}},u=function(e){return{type:n.c,payload:{email:e}}},d=function(e){return{type:n.b,payload:{message:e}}},j=function(){return{type:n.m,payload:{}}},b=function(e){return{type:n.l,payload:{message:e}}},O=function(){return{type:n.j,payload:{}}},h=function(e){return{type:n.i,payload:{message:e}}},m=function(e){return{type:n.g,payload:{history:e}}}},34:function(e,t,a){"use strict";a.r(t);var n=a(23),c=a.n(n),r=a(37);c.a.interceptors.request.use((function(e){var t=Object(r.a)();return e.headers.Authorization="Bearer ".concat(t),e}),(function(e){return Promise.reject(e)})),c.a.interceptors.response.use((function(e){return e.data}),(function(e){return Promise.reject(e.response.data)})),t.default=c.a},37:function(e,t,a){"use strict";a.d(t,"a",(function(){return s})),a.d(t,"e",(function(){return i})),a.d(t,"d",(function(){return o})),a.d(t,"b",(function(){return l})),a.d(t,"c",(function(){return u}));var n=a(134),c=a(30),r=a(21),s=function(){return localStorage.getItem(r.c.AccessToken)},i=function(e){localStorage.setItem(r.c.AccessToken,e)},o=function(){localStorage.removeItem(r.c.AccessToken)},l=function(){var e=Object(n.a)(s());if(console.log("decodedToken",e),!Object(n.b)(s()))return e&&e.role?u(e.role)?"/admin":"/customer":"/";console.log("Need to Refresh AccesToken.")},u=function(e){switch(e){case c.b.Admin:case c.b.SuperAdmin:return!0;case c.b.Customer:default:return!1}}},39:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));a(1);var n=a(391),c=a(139),r=a(137),s=a(0),i=function(e){var t=e.visible,a=e.target,i=e.setVisibility,o=e.label,l=e.onConfirm,u=e.placement;return Object(s.jsx)(n.a,{show:t,target:a,placement:u,onHide:function(){return i(!1)},containerPadding:20,rootClose:!0,children:Object(s.jsxs)(c.a,{children:[Object(s.jsx)(c.a.Title,{as:"h3",children:"Confirm"}),Object(s.jsxs)(c.a.Content,{children:[Object(s.jsx)("p",{className:"m-0",children:o}),Object(s.jsx)(r.a,{className:"my-2 float-right",variant:"primary",size:"sm",onClick:function(){return[l(),i(!1)]},children:"Confirm"})]})]})})};i.defaultProps={visible:!1,target:null,setVisibility:function(){},label:"",onConfirm:function(){},placement:"left"}},390:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),r=a(77),s=a(40),i=a.n(s),o=a(35),l=a(15),u=a(8),d=a(412),j=a(413),b=a(407),O=a(25),h=a(26),m=a(400),x=a(191),f=a(414),p=a(141),g=a(140),v=a(0);function y(){var e=Object(n.useState)(0),t=Object(u.a)(e,2),a=t[0],r=t[1],s=Object(n.useState)(0),i=Object(u.a)(s,2),l=i[0],d=i[1];return Object(n.useEffect)((function(){p.a.getAll({perPage:10,page:1}).then((function(e){r(e.totalCount)})),g.a.getVideos({perPage:10,page:1}).then((function(e){d(e.totalCount)}))}),[]),Object(v.jsxs)(c.a.Fragment,{children:[Object(v.jsx)("div",{className:"text-center",children:Object(v.jsx)("h1",{children:"Admin Dashboard"})}),Object(v.jsxs)(m.a,{children:[Object(v.jsx)(x.a,{children:Object(v.jsx)(f.a,{className:"text-center",children:Object(v.jsxs)(o.b,{to:"/admin/users",children:[Object(v.jsx)("div",{children:Object(v.jsx)("strong",{children:"Users"})}),Object(v.jsx)("div",{children:Object(v.jsx)("h1",{children:a})})]})})}),Object(v.jsx)(x.a,{children:Object(v.jsx)(f.a,{className:"text-center",children:Object(v.jsxs)(o.b,{to:"/admin/videos",children:[Object(v.jsx)("div",{children:Object(v.jsx)("strong",{children:"Videos"})}),Object(v.jsx)("div",{children:Object(v.jsx)("h1",{children:l})})]})})})]})]})}y.defaultProps={};var N=Object(l.g)(y),w=a(402),C=a(137),S=a(401),k=function(e){return Object(v.jsx)(n.Fragment,{children:e?Object(v.jsx)("div",{className:"d-flex",children:Object(v.jsx)(S.a,{animation:"border",variant:"primary",className:"w-4rem h-4rem m-auto"})}):Object(v.jsx)(S.a,{animation:"border",variant:"primary",className:"w-4rem h-4rem",style:{position:"absolute",left:"50%",top:"50%"}})})};k.defaultProps={absolute:!1};var I=a(34),E=a(21),A="".concat(E.a,"/exam-bodies"),T={getAllExamBodies:function(){var e="".concat(A);return I.default.get(e)},getExamBodyById:function(e){var t="".concat(A,"/by-id/").concat(e);return I.default.get(t)}};function P(e){var t=e.history,a=Object(n.useState)([]),c=Object(u.a)(a,2),r=c[0],s=c[1],i=Object(n.useState)(!1),o=Object(u.a)(i,2),l=o[0],d=o[1];return Object(n.useEffect)((function(){d(!0),T.getAllExamBodies().then((function(e){s(e),d(!1)}),(function(e){console.log(e),d(!1)}))}),[]),Object(v.jsxs)(w.a,{className:"pt-4",children:[Object(v.jsx)(m.a,{className:"mb-3",children:Object(v.jsx)(x.a,{children:Object(v.jsx)("h1",{className:"text-primary text-center",children:"Select Exam Body to start"})})}),l?Object(v.jsx)(k,{}):null,Object(v.jsxs)(m.a,{children:[r.map((function(e,a){return Object(v.jsx)(x.a,{sm:6,md:4,lg:3,className:"p-1",children:Object(v.jsxs)(f.a,{className:"w-100 shadow-sm",children:[Object(v.jsx)(f.a.Img,{className:"w-50 mx-auto",variant:"top",src:e.logoUrl}),Object(v.jsxs)(f.a.Body,{children:[Object(v.jsx)(f.a.Title,{className:"text-center",children:e.name}),Object(v.jsx)(C.a,{className:"float-right",variant:"primary",onClick:function(){return t.push("/admin/questions/by-exam-body/".concat(e.id))},children:"Go"})]})]})},a)})),Object(v.jsx)(x.a,{sm:6,md:4,lg:3,className:"p-1",children:Object(v.jsxs)(f.a,{className:"w-100 shadow-sm",children:[Object(v.jsx)(f.a.Img,{className:"w-50 mx-auto",variant:"top",src:"https://i.ibb.co/g9qh9Ty/instagram-logo-icon-voronezh-russia-january-square-soft-shadow-171161240.jpg"}),Object(v.jsx)(f.a.Title,{className:"text-center",children:"\xa0"}),Object(v.jsx)(f.a.Body,{children:Object(v.jsx)(C.a,{className:"float-right",variant:"primary",children:"Add new Exam Body"})})]})})]})]})}P.defaultProps={};var R=Object(l.g)(P),q=a(38),D=a(7),B=a(403),L=a(392),U=a(415),G=a(408),z=a(404),F=a(192),H=a(391),Q=a(139),W=a(409),V=function(e){var t=e.label,a=e.value,n=e.values,c=e.onChange;return Object(v.jsxs)(W.a.Group,{children:[Object(v.jsx)(W.a.Label,{children:Object(v.jsx)("strong",{children:t})}),Object(v.jsx)(W.a.Control,{as:"select",onChange:c,value:a,children:n.map((function(e){return"object"===typeof e?Object(v.jsx)("option",{value:e.id,children:e.name},e.id):Object(v.jsx)("option",{children:e},e)}))})]})};V.defaultProps={label:"",values:[],onChange:function(){}};var J=a(23),M=a.n(J),_=a(138),Y=a.n(_),K={Draft:"DRAFT",UnderReview:"UNDER-REVIEW",Published:"PUBLISHED"},Z="".concat(E.a,"/questions"),$={findQuestionGroups:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a={};for(var n in t)if(Object.hasOwnProperty.call(t,n)){var c=t[n];c&&(a[n]=c)}var r=Y.a.stringify(a),s="".concat(Z,"/group-by/").concat(e,"?").concat(r);return M.a.get(s)},findAdditionalDetails:function(e,t,a){var n="".concat(Z,"/group-by/additional-details/").concat(e,"/").concat(t,"/").concat(a);return M.a.get(n)},initRegisterQuestionsPage:function(e,t){var a="".concat(Z,"/register/init/").concat(e,"/").concat(t);return M.a.get(a)},registerQuestion:function(e,t){var a="".concat(Z,"/register");return M.a.post(a,e).then((function(e){var a=e.id;return $.attachAnswers(a,t)}))},attachAnswers:function(e,t){var a="".concat(Z,"/attach-answers/").concat(e);return M.a.post(a,{answers:t})},findQuestionsByExam:function(e,t,a,n){var c={};for(var r in n)if(Object.hasOwnProperty.call(n,r)){var s=n[r];s&&(c[r]=s)}var i="".concat(Z,"/by-exam/").concat(e,"/").concat(t,"/").concat(a,"?").concat(Y.a.stringify(c));return M.a.get(i)},requestToPublish:function(e,t,a){var n="".concat(Z,"/update-exam-status");return M.a.put(n,{examBodyId:e,subjectId:t,year:a,status:K.UnderReview})},publishQuestions:function(e,t,a){var n="".concat(Z,"/update-exam-status");return M.a.put(n,{examBodyId:e,subjectId:t,year:a,status:K.Published})},initEditQuestionsPage:function(e){var t="".concat(Z,"/update/init/").concat(e);return M.a.get(t)},updateQuestion:function(e,t){var a="".concat(Z,"/update/").concat(e.id);return M.a.put(a,{question:Object(D.a)(Object(D.a)({},e),{},{id:null}),answers:t})},deleteQuestion:function(e){var t="".concat(Z,"/").concat(e);return M.a.delete(t)}},X=$,ee="".concat(E.a,"/subjects"),te={getAllSubjects:function(){var e="".concat(ee);return M.a.get(e).then((function(e){return e}),(function(e){return e}))}},ae=a(22),ne=a(30),ce=a(16),re=a(39),se=["Year","Subject","Question Count","Status","Actions"];function ie(e){var t=e.match,a=e.history,c=e.user,r=e.addToastAction,s=Object(n.useState)({id:"",name:"",logoUrl:""}),i=Object(u.a)(s,2),o=i[0],l=i[1],d=Object(n.useState)([]),j=Object(u.a)(d,2),b=j[0],f=j[1],p=Object(n.useState)([]),g=Object(u.a)(p,2),y=g[0],N=g[1],S=Object(n.useState)([]),I=Object(u.a)(S,2),E=I[0],A=I[1],P=Object(n.useState)({subjectId:"",year:(new Date).getFullYear()}),R=Object(u.a)(P,2),W=R[0],J=R[1],M=Object(n.useState)({subjects:[{id:"",name:"- All Subjects -"}],years:[{id:0,name:"- All Years -"}],statuses:[{id:"",name:"- All Subjects -"}]}),_=Object(u.a)(M,2),Y=_[0],Z=_[1],$=Object(n.useState)({subjectId:"",year:0,status:""}),ee=Object(u.a)($,2),ae=ee[0],ie=ee[1],oe=Object(n.useState)(null),le=Object(u.a)(oe,2),ue=le[0],de=le[1],je=Object(n.useState)(!1),be=Object(u.a)(je,2),Oe=be[0],he=be[1],me=Object(n.useState)(-1),xe=Object(u.a)(me,2),fe=xe[0],pe=xe[1],ge=Object(n.useState)(!1),ve=Object(u.a)(ge,2),ye=ve[0],Ne=ve[1],we=Object(n.useState)(null),Ce=Object(u.a)(we,2),Se=Ce[0],ke=Ce[1],Ie=Object(n.useState)(!1),Ee=Object(u.a)(Ie,2),Ae=Ee[0],Te=Ee[1],Pe=Object(n.useState)(null),Re=Object(u.a)(Pe,2),qe=Re[0],De=Re[1],Be=Object(n.useState)(0),Le=Object(u.a)(Be,2),Ue=Le[0],Ge=Le[1],ze=Object(n.useState)({pagesCount:1,groupsCount:0}),Fe=Object(u.a)(ze,2),He=Fe[0],Qe=Fe[1],We=Object(n.useState)(!1),Ve=Object(u.a)(We,2),Je=Ve[0],Me=Ve[1],_e=Object(n.useState)(null),Ye=Object(u.a)(_e,2),Ke=Ye[0],Ze=Ye[1],$e=Object(n.useState)(!1),Xe=Object(u.a)($e,2),et=Xe[0],tt=Xe[1],at=Object(n.useState)(null),nt=Object(u.a)(at,2),ct=nt[0],rt=nt[1],st=Object(n.useState)(!1),it=Object(u.a)(st,2),ot=it[0],lt=it[1];Object(n.useEffect)((function(){var e=t.params.examBodyId;T.getExamBodyById(e).then((function(e){return l(e)}),(function(e){return console.log(e)})),te.getAllSubjects().then((function(e){N(e);for(var t=[],a=1988;a<(new Date).getFullYear();a++)t.push(a);A(t),J(Object(D.a)(Object(D.a)({},W),{},{subjectId:e[0].id,year:t[0]}));for(var n=[{id:"",name:"- All Statuses -"}],c=0,r=Object.values(K);c<r.length;c++){var s=r[c];n.push({id:s,name:String(s).split("-").join(" ")})}Z({subjects:[{id:"",name:"- All Subjects -"}].concat(e.map((function(e){return{id:e.id,name:e.name}}))),years:[{id:0,name:"- All Years -"}].concat(t.map((function(e){return{id:e,name:"".concat(e)}}))),statuses:n})}),(function(e){console.log(e)}))}),[]),Object(n.useEffect)((function(){Ue?Ge(0):xt()}),[ae]),Object(n.useEffect)((function(){xt()}),[Ue]);var ut=function(e){var t=y.find((function(t){return t.id===e}));return t?t.name:""},dt=function(){var e=t.params.examBodyId,n=b[fe],c=n.subjectId,r=n.year;Ne(!1),a.push("/admin/questions/add/".concat(e,"/").concat(c,"/").concat(r))},jt=function(e){Ze(e.target),Me(!0)},bt=function(e){rt(e.target),tt(!0)},Ot=function(e,t){var a=JSON.parse(JSON.stringify(b));a[e].status=t,f(a)},ht=function(e,t){J(Object(D.a)(Object(D.a)({},W),{},Object(q.a)({},t,e)))},mt=function(e,t){ie(Object(D.a)(Object(D.a)({},ae),{},Object(q.a)({},t,e)))},xt=function(){var e=t.params.examBodyId;lt(!0),X.findQuestionGroups(e,Object(D.a)(Object(D.a)({},ae),{},{pageIndex:Ue})).then((function(e){var t=e.count,a=e.questionGroups;Qe({groupsCount:t,pagesCount:Math.ceil(t/10)}),f(a),lt(!1)}),(function(e){console.log(e),lt(!1)}))};return Object(v.jsxs)(w.a,{className:"pt-4",children:[Object(v.jsx)(m.a,{children:Object(v.jsx)(x.a,{children:Object(v.jsx)(C.a,{variant:"link",onClick:function(){return a.goBack()},children:Object(v.jsx)("span",{className:"h6",children:"Back"})})})}),Object(v.jsx)(m.a,{className:"mb-3",children:Object(v.jsx)(x.a,{children:Object(v.jsx)("h1",{className:"text-primary text-center",children:"Examinations"})})}),Object(v.jsxs)(m.a,{children:[Object(v.jsx)(x.a,{sm:12,children:Object(v.jsx)("h4",{children:"Filter Options"})}),Object(v.jsx)(x.a,{md:4,children:Object(v.jsx)(V,{label:"Year",values:Y.years,value:ae.year,onChange:function(e){return mt(parseInt(e.target.value),"year")}})}),Object(v.jsx)(x.a,{md:4,children:Object(v.jsx)(V,{label:"Subject",values:Y.subjects,value:ae.subjectId,onChange:function(e){return mt(e.target.value,"subjectId")}})}),Object(v.jsx)(x.a,{md:4,children:Object(v.jsx)(V,{label:"Status",values:Y.statuses,value:ae.status,onChange:function(e){return mt(e.target.value,"status")}})})]}),Object(v.jsxs)(m.a,{className:"align-items-center",children:[Object(v.jsx)(B.a,{src:o.logoUrl,style:{height:60},className:"d-inline ml-3",rounded:!0}),Object(v.jsx)("h4",{className:"ml-2 d-inline",children:o.name}),ot?Object(v.jsx)(k,{}):Object(v.jsx)(O.a,{className:"cursor-pointer ml-auto mr-3 text-success float-right",icon:h.j,onClick:function(e){return De(e.target),Te(!0),void Ne(!1)},size:"lg"})]}),Object(v.jsx)(m.a,{children:Object(v.jsx)(x.a,{className:"text-right",children:Object(v.jsxs)("h5",{className:"ml-auto",children:["(",He.groupsCount," Examinations)"]})})}),!ot&&b.length<1?Object(v.jsx)("h3",{className:"text-center",children:"No Questions found"}):Object(v.jsxs)(L.a,{responsive:!0,bordered:!0,children:[Object(v.jsx)("thead",{children:Object(v.jsx)("tr",{children:se.map((function(e,t){return Object(v.jsx)("th",{children:e},t)}))})}),Object(v.jsx)("tbody",{children:b.map((function(e,t){return Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{style:{width:100},children:e.year}),Object(v.jsx)("td",{children:ut(e.subjectId)}),Object(v.jsx)("td",{style:{width:180},children:e.count}),Object(v.jsx)("td",{style:{width:180},children:Object(v.jsx)("span",{className:"text-capitalize",children:String(e.status).split("-").join(" ").toLowerCase()})}),Object(v.jsx)("td",{style:{width:100},children:Object(v.jsx)(O.a,{className:"cursor-pointer",icon:h.b,onClick:function(e){return function(e,t){pe(t),ke(e.target);var a=setTimeout((function(){clearTimeout(a),Ne(!0),Te(!1)}),100)}(e,t)},size:"lg"})})]},t)}))})]}),Object(v.jsx)(m.a,{className:"justify-content-end",children:Object(v.jsx)(x.a,{children:Object(v.jsxs)(U.a,{className:"float-right",children:[Object(v.jsx)(U.a.First,{disabled:Ue<=0,onClick:function(){return Ge(0)}}),Object(v.jsx)(U.a.Prev,{disabled:Ue<=0,onClick:function(){return Ge(Ue-1)}}),Object(v.jsx)(U.a.Item,{active:!0,children:Ue+1}),Object(v.jsx)(U.a.Next,{disabled:Ue>=He.pagesCount-1,onClick:function(){return Ge(Ue+1)}}),Object(v.jsx)(U.a.Last,{disabled:Ue>=He.pagesCount-1,onClick:function(){return Ge(He.pagesCount-1)}})]})})}),ue?Object(v.jsxs)(G.a,{show:Oe,onHide:function(){return he(!1)},backdrop:"static",keyboard:!1,"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(v.jsx)(G.a.Header,{closeButton:!0,children:Object(v.jsx)(G.a.Title,{children:"Additional Details"})}),Object(v.jsxs)(G.a.Body,{children:[Object(v.jsxs)(z.a,{className:"mb-3",children:[Object(v.jsx)(z.a.Prepend,{children:Object(v.jsx)(z.a.Text,{id:"sqgroup-year",children:"Year"})}),Object(v.jsx)(F.a,{disabled:!0,placeholder:"Year","aria-label":"Year","aria-describedby":"sqgroup-year",value:ue.year})]}),Object(v.jsxs)(z.a,{className:"mb-3",children:[Object(v.jsx)(z.a.Prepend,{children:Object(v.jsx)(z.a.Text,{id:"sqgroup-subject",children:"Subject"})}),Object(v.jsx)(F.a,{disabled:!0,placeholder:"Subject","aria-label":"Subject","aria-describedby":"sqgroup-subject",value:ue.subjectName})]}),Object(v.jsxs)(z.a,{className:"mb-3",children:[Object(v.jsx)(z.a.Prepend,{children:Object(v.jsx)(z.a.Text,{id:"sqgroup-status",children:"Status"})}),Object(v.jsx)(F.a,{disabled:!0,placeholder:"Status","aria-label":"Status","aria-describedby":"sqgroup-status",value:ue.status})]}),Object(v.jsxs)(z.a,{className:"mb-3",children:[Object(v.jsx)(z.a.Prepend,{children:Object(v.jsx)(z.a.Text,{id:"sqgroup-qcount",children:"Question Count"})}),Object(v.jsx)(F.a,{disabled:!0,placeholder:"Question Count","aria-label":"Question Count","aria-describedby":"sqgroup-qcount",value:ue.count})]}),Object(v.jsxs)(z.a,{className:"mb-3",children:[Object(v.jsx)(z.a.Prepend,{children:Object(v.jsx)(z.a.Text,{id:"sqgroup-created-at",children:"Created At"})}),Object(v.jsx)(F.a,{disabled:!0,placeholder:"Created At","aria-label":"Created At","aria-describedby":"sqgroup-created-at",value:ue.createdAt})]}),Object(v.jsxs)(z.a,{className:"mb-3",children:[Object(v.jsx)(z.a.Prepend,{children:Object(v.jsx)(z.a.Text,{id:"sqgroup-created-by",children:"Created By"})}),Object(v.jsx)(F.a,{disabled:!0,placeholder:"Created By","aria-label":"Created By","aria-describedby":"sqgroup-created-by",value:ue.createdBy})]}),Object(v.jsxs)(z.a,{className:"mb-3",children:[Object(v.jsx)(z.a.Prepend,{children:Object(v.jsx)(z.a.Text,{id:"sqgroup-last-modified-at",children:"Last Modifed At"})}),Object(v.jsx)(F.a,{disabled:!0,placeholder:"Last Modifed At","aria-label":"Last Modifed At","aria-describedby":"sqgroup-last-modified-at",value:ue.lastModifiedAt})]}),Object(v.jsxs)(z.a,{className:"mb-3",children:[Object(v.jsx)(z.a.Prepend,{children:Object(v.jsx)(z.a.Text,{id:"sqgroup-last-modified-by",children:"Last Modified By"})}),Object(v.jsx)(F.a,{disabled:!0,placeholder:"Last Modified By","aria-label":"Last Modified By","aria-describedby":"sqgroup-last-modified-by",value:ue.lastModifiedBy})]})]}),Object(v.jsx)(G.a.Footer,{children:Object(v.jsx)(C.a,{variant:"secondary",onClick:function(){return he(!1)},children:"Close"})})]}):null,Object(v.jsx)(H.a,{show:ye,target:Se,placement:"left",onHide:function(){return Ne(!1)},containerPadding:20,rootClose:!0,children:Object(v.jsxs)(Q.a,{style:{maxWidth:200},children:[Object(v.jsx)(Q.a.Title,{as:"h3",className:"p-3",children:"Actions"}),Object(v.jsxs)(Q.a.Content,{children:[Object(v.jsx)(C.a,{className:"my-1",variant:"link",size:"sm",onClick:function(){var e=t.params.examBodyId,a=b[fe];if(Ne(!1),a.count<1)r("Info","Nothing to show additional details.",ce.a.Info);else{var n=y.find((function(e){return e.id===a.subjectId}));X.findAdditionalDetails(e,a.subjectId,a.year).then((function(e){var t=e.createdByFullName,c=e.lastModifiedByFullName;de(Object.assign({createdBy:t,lastModifiedBy:c,subjectName:n.name},a)),he(!0)}),(function(e){return console.log(e)}))}},children:"View Additional Details"}),function(){var e=b[fe];return e&&e.status!==K.Published?Object(v.jsx)(C.a,{className:"my-1",variant:"link",size:"sm",onClick:dt,children:"Add New Question"}):null}(),Object(v.jsx)(C.a,{className:"my-1",variant:"link",size:"sm",onClick:function(){var e=t.params.examBodyId,n=b[fe],c=n.subjectId,s=n.year;Ne(!1),n.count<1?r("Info","No questions to show.",ce.a.Info):a.push("/admin/questions/view/".concat(e,"/").concat(c,"/").concat(s))},children:"View All Questions"}),function(){var e=b[fe];return e?e.status===K.UnderReview&&c.role===ne.b.SuperAdmin?Object(v.jsx)(C.a,{className:"my-1",variant:"link",size:"sm",disabled:c.role!==ne.b.SuperAdmin,onClick:jt,children:"Publish Questions"}):e.status===K.Draft?Object(v.jsx)(C.a,{className:"my-1",variant:"link",size:"sm",onClick:bt,children:"Request to Publish"}):null:null}()]})]})}),Object(v.jsx)(H.a,{show:Ae,target:qe,placement:"left",onHide:function(){return Te(!1)},containerPadding:20,rootClose:!0,children:Object(v.jsxs)(Q.a,{style:{maxWidth:200},children:[Object(v.jsx)(Q.a.Title,{as:"h3",className:"p-3",children:"New Examination"}),Object(v.jsxs)(Q.a.Content,{children:[Object(v.jsx)(V,{label:"Year",values:E,value:W.year,onChange:function(e){return ht(parseInt(e.target.value),"year")}}),Object(v.jsx)(V,{label:"Subject",values:y,value:W.subjectId,onChange:function(e){return ht(e.target.value,"subjectId")}}),Object(v.jsx)("div",{className:"d-flex justify-content-end",children:Object(v.jsx)(C.a,{size:"sm",className:"mb-2",onClick:function(){var e=b.findIndex((function(e){return e.year===W.year&&e.subjectId===W.subjectId}));Te(!1),e>=0?r("Error","Specific Exam is already registered.",ce.a.Warning):f(b.concat([{count:0,subjectId:W.subjectId,year:W.year,status:K.Draft}]))},children:"Create & Close"})})]})]})}),Object(v.jsx)(re.a,{visible:Je,target:Ke,setVisibility:Me,label:"Are you sure to publish questions?",onConfirm:function(){Me(!1);var e=t.params.examBodyId,a=b[fe];Ne(!1),a.count<1?r("Info","Nothing to Publish.",ce.a.Info):X.publishQuestions(e,a.subjectId,a.year).then((function(e){Ot(fe,K.Published),r("Success","Questions are published successfully.",ce.a.Success)}),(function(e){return r("[".concat(e.statusCode,"] ").concat(e.error),e.message,ce.a.Danger)}))}}),Object(v.jsx)(re.a,{visible:et,target:ct,setVisibility:tt,label:"Are you sure to request this question group to publish?",onConfirm:function(){tt(!1);var e=t.params.examBodyId,a=b[fe];Ne(!1),a.count<1?r("Info","Nothing to Review.",ce.a.Info):X.requestToPublish(e,a.subjectId,a.year).then((function(e){Ot(fe,K.UnderReview),r("Success","Questions are requested to be published.",ce.a.Success)}),(function(e){return r("[".concat(e.statusCode,"] ").concat(e.error),e.message,ce.a.Danger)}))}})]})}ie.defaultProps={};var oe=Object(l.g)(Object(ae.a)(Object(ae.c)(ie))),le=a(11),ue=a.n(le),de=a(50),je="".concat(E.a,"/sub-topics"),be={getSubTopics:function(e){var t="".concat(je,"/").concat(e);return M.a.get(t).then((function(e){return e}),(function(e){return e}))}},Oe={uploadFile:function(e){var t="".concat(E.a,"/uploads/shapes"),a=new FormData;return a.append("file",e),M.a.post(t,a).then((function(e){return"".concat(E.b,"/").concat(e.url)}))}},he=a(193),me=function(e){var t=e.value,a=e.onChange,c=(e.className,e.editable),r=e.equation;return Object(v.jsxs)(n.Fragment,{children:[c?Object(v.jsx)(W.a.Control,{as:"textarea",value:t,onChange:function(e){return a(e.target.value)}}):r?void 0:Object(v.jsx)("span",{children:t}),r?Object(v.jsx)(he.a,{tex:t,onError:function(e){return t=e,void console.log(t);var t},onSuccess:function(){}}):null]})};me.defaultProps={className:"",value:"",onChange:function(){},editable:!1,equation:!1};var xe=function(e){var t=e.headers,a=e.data,n=e.onChange,c=function(e,t,c){var r=JSON.parse(JSON.stringify(a));r[t][c]=e,n({content:r,type:"DATA"})},r=function(e,a){var c=JSON.parse(JSON.stringify(t));c[a]=e,n({content:c,type:"HEADER"})};return Object(v.jsxs)(L.a,{responsive:!0,bordered:!0,children:[Object(v.jsx)("thead",{children:Object(v.jsx)("tr",{children:t.map((function(e,t){return Object(v.jsx)("th",{children:Object(v.jsx)(W.a.Control,{variant:"dark",type:"text",value:e,onChange:function(e){return r(e.target.value,t)}})},t)}))})}),Object(v.jsx)("tbody",{children:a.map((function(e,t){return Object(v.jsx)("tr",{children:e.map((function(e,a){return Object(v.jsx)("td",{children:Object(v.jsx)(W.a.Control,{type:"text",value:e,onChange:function(e){return c(e.target.value,t,a)}})},a)}))},t)}))})]})},fe=function(e){var t=e.headers,a=e.data,n=e.responsive,c=e.striped,r=e.bordered,s=e.hover;return Object(v.jsxs)(L.a,{responsive:n,striped:c,bordered:r,hover:s,children:[Object(v.jsx)("thead",{children:Object(v.jsx)("tr",{children:t.map((function(e,t){return Object(v.jsx)("th",{children:Object(v.jsx)(me,{value:e,equation:!0})},t)}))})}),Object(v.jsx)("tbody",{children:a.map((function(e,t){return Object(v.jsx)("tr",{children:e.map((function(e,t){return Object(v.jsx)("td",{children:Object(v.jsx)(me,{value:e,equation:!0})},t)}))},t)}))})]})};fe.defaultProps={headers:[],data:[],responsive:!0,striped:!1,bordered:!0,hover:!1};var pe=function(e){var t=e.headers,a=e.data,c=e.onChange,r=Object(n.useState)({rows:0,columns:0}),s=Object(u.a)(r,2),i=s[0],o=s[1],l=Object(n.useState)(!1),d=Object(u.a)(l,2),j=d[0],b=d[1],m=Object(n.useState)(null),x=Object(u.a)(m,2),f=x[0],p=x[1],g=Object(n.useState)(-1),y=Object(u.a)(g,2),N=y[0],w=y[1],S=function(e,t){o(Object(D.a)(Object(D.a)({},i),{},Object(q.a)({},t,e)))};return Object(v.jsxs)(L.a,{responsive:!0,bordered:!0,children:[Object(v.jsx)("thead",{children:Object(v.jsx)("tr",{children:t.map((function(e,t){return Object(v.jsx)("th",{children:e},t)}))})}),Object(v.jsx)("tbody",{children:a.map((function(e,t){return Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{width:80,children:Object(v.jsx)(W.a.Check,{className:"form-check-lg d-flex justify-content-center",type:"checkbox",checked:e.correct,onChange:function(e){return c(e.target.checked,t,"CORRECT")}})}),Object(v.jsxs)("td",{children:[Object(v.jsx)(W.a.Control,{type:"text",placeholder:"Enter Answer",value:e.answer,className:"mb-2",onChange:function(e){return c(e.target.value,t,"ANSWER")}}),e.image?Object(v.jsxs)(n.Fragment,{children:[Object(v.jsx)(B.a,{src:e.image,rounded:!0,style:{height:150,maxWidth:"100%"},className:"mb-2"}),Object(v.jsx)(O.a,{className:"cursor-pointer text-danger",size:"lg",icon:h.l,style:{marginLeft:-25,marginBottom:60},onClick:function(){return c(null,t,"IMAGE-REMOVE")}})]}):null,Object(v.jsx)(xe,{headers:e.tableHeaders,data:e.tableData,onChange:function(e){return function(e){var t=e.content,a=e.type,n=e.answerIndex;switch(a){case"HEADER":c({tableHeaders:t},n,"TABLE");break;case"DATA":c({tableData:t},n,"TABLE")}}(Object(D.a)(Object(D.a)({},e),{},{answerIndex:t}))}})]}),Object(v.jsxs)("td",{width:120,children:[Object(v.jsx)(O.a,{className:"cursor-pointer text-warning",size:"lg",icon:h.g,onClick:function(){return c(null,t,"IMAGE-UPLOAD")}}),Object(v.jsx)(O.a,{className:"cursor-pointer text-info ml-1",size:"lg",icon:h.k,onClick:function(e){return function(e,t){w(t),p(e.target);var n=a[t].tableHeaders.length,c=a[t].tableData.length+1;o({columns:n,rows:c>1?c:0});var r=setTimeout((function(){clearTimeout(r),b(!0)}),100)}(e,t)}}),Object(v.jsx)(O.a,{className:"cursor-pointer text-danger ml-4",size:"lg",icon:h.m,onClick:function(){return c(null,t,"REMOVE")}})]})]},t)}))}),Object(v.jsx)(H.a,{show:j,target:f,placement:"left",onHide:function(){return b(!1)},containerPadding:20,rootClose:!0,children:Object(v.jsxs)(Q.a,{style:{maxWidth:200},children:[Object(v.jsx)(Q.a.Title,{as:"h3",className:"p-3",children:"Create a Table"}),Object(v.jsxs)(Q.a.Content,{children:[Object(v.jsxs)(z.a,{size:"sm",className:"mb-3",children:[Object(v.jsx)(z.a.Prepend,{children:Object(v.jsx)(z.a.Text,{id:"create-table-columns",children:"Columns"})}),Object(v.jsx)(F.a,{"aria-label":"Small","aria-describedby":"create-table-columns",value:i.columns,onChange:function(e){return S(parseInt(e.target.value),"columns")}})]}),Object(v.jsxs)(z.a,{size:"sm",className:"mb-3",children:[Object(v.jsx)(z.a.Prepend,{children:Object(v.jsx)(z.a.Text,{id:"create-table-rows",children:"Rows"})}),Object(v.jsx)(F.a,{"aria-label":"Small","aria-describedby":"create-table-rows",value:i.rows,onChange:function(e){return S(parseInt(e.target.value),"rows")}})]}),Object(v.jsx)("div",{className:"d-flex justify-content-end",children:Object(v.jsx)(C.a,{size:"sm",onClick:function(){if(b(!1),i.columns<1||i.rows<1)c({tableHeaders:[],tableData:[]},N,"TABLE");else{var e=JSON.parse(JSON.stringify(a[N].tableHeaders||[])),t=JSON.parse(JSON.stringify(a[N].tableData||[]));if(e.length>i.columns)e.length=i.columns;else for(;e.length<i.columns;)e.push("");if(t.length>i.rows-1)t.length=i.rows-1;else for(;t.length<i.rows-1;)t.push([]);for(var n=0;n<t.length;n++){var r=t[n];if(r.length>i.columns-1)r.length=i.columns;else for(;r.length<i.columns;)r.push("")}c({tableHeaders:e,tableData:t},N,"TABLE")}},children:"Create & Close"})})]})]})})]})};pe.defaultProps={headers:[],data:[],onChange:function(){}};var ge=["Correct","Option","Actions"],ve={question:"",questionNumber:0,image:"",tableHeaders:[],tableData:[]};function ye(e){var t=e.history,a=e.match,c=e.addToastAction,r=Object(n.useState)([]),s=Object(u.a)(r,2),i=s[0],o=s[1],l=Object(n.useState)([]),d=Object(u.a)(l,2),j=d[0],b=d[1],f=Object(n.useState)({examBodyId:"",examBodyName:"",subjectId:"",subjectName:"",year:0}),p=Object(u.a)(f,2),g=p[0],y=p[1],N=Object(n.useState)(""),S=Object(u.a)(N,2),k=S[0],I=S[1],E=Object(n.useState)(""),A=Object(u.a)(E,2),T=A[0],P=A[1],R=Object(n.useRef)(null),L=Object(n.useState)(ve),U=Object(u.a)(L,2),G=U[0],J=U[1],M=Object(n.useState)([]),_=Object(u.a)(M,2),Y=_[0],K=_[1],Z=Object(n.useState)(null),$=Object(u.a)(Z,2),ee=$[0],te=$[1],ae=Object(n.useState)({rows:0,columns:0}),ne=Object(u.a)(ae,2),se=ne[0],ie=ne[1],oe=Object(n.useState)(null),le=Object(u.a)(oe,2),je=le[0],he=le[1],me=Object(n.useState)(!1),fe=Object(u.a)(me,2),ye=fe[0],Ne=fe[1],we=Object(n.useState)(!1),Ce=Object(u.a)(we,2),Se=Ce[0],ke=Ce[1],Ie=Object(n.useState)(null),Ee=Object(u.a)(Ie,2),Ae=Ee[0],Te=Ee[1],Pe=Object(n.useState)(!1),Re=Object(u.a)(Pe,2),qe=Re[0],De=Re[1],Be=Object(n.useState)(null),Le=Object(u.a)(Be,2),Ue=Le[0],Ge=Le[1];Object(n.useEffect)((function(){var e=a.params,t=e.examBodyId,n=e.subjectId,r=e.year;X.initRegisterQuestionsPage(t,n).then((function(e){var a=e.examBodyName,c=e.subjectName;y({examBodyName:a,subjectName:c,year:parseInt(r),examBodyId:t,subjectId:n}),o(e.topics),e.topics.length>0&&I(e.topics[0].id)}),(function(e){return c("[".concat(e.statusCode,"] ").concat(e.error),e.message,ce.a.Danger)}))}),[]),Object(n.useEffect)((function(){k&&be.getSubTopics(k).then((function(e){b(e),P(e[0].id)}),(function(e){return c("[".concat(e.statusCode,"] ").concat(e.error),e.message,ce.a.Danger)}))}),[k]);var ze=function(e,t){J(Object(D.a)(Object(D.a)({},G),{},Object(q.a)({},t,e)))},Fe=function(e){te(e<0?"QUESTION":"ANSWER-".concat(e)),R.current.click()},He=function(){var e=Object(de.a)(ue.a.mark((function e(t){var a,n,c,r;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.target.files.length>0)){e.next=10;break}return a=t.target.files[0],e.next=5,Oe.uploadFile(a);case 5:if(n=e.sent,ee){e.next=8;break}return e.abrupt("return");case 8:ee.includes("ANSWER")?(c=parseInt(ee.split("-")[1]),(r=JSON.parse(JSON.stringify(Y)))[c].image=n,K(r)):ze(n,"image"),t.target.value="";case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Qe=function(e,t){ie(Object(D.a)(Object(D.a)({},se),{},Object(q.a)({},t,e)))},We=function(){K([]),J(ve),De(!1)};return Object(v.jsxs)(w.a,{className:"pt-4",children:[Object(v.jsx)(m.a,{children:Object(v.jsx)(x.a,{children:Object(v.jsx)(C.a,{variant:"link",onClick:function(){return t.goBack()},children:Object(v.jsx)("span",{className:"h6",children:"Back"})})})}),Object(v.jsx)(m.a,{className:"mb-5",children:Object(v.jsx)(x.a,{children:Object(v.jsx)("h1",{className:"text-primary text-center",children:"Add a new Question"})})}),Object(v.jsxs)(W.a,{children:[Object(v.jsxs)(m.a,{children:[Object(v.jsx)(x.a,{md:4,children:Object(v.jsxs)(W.a.Group,{children:[Object(v.jsx)(W.a.Label,{children:Object(v.jsx)("strong",{children:"Exam Body"})}),Object(v.jsx)(W.a.Control,{disabled:!0,type:"text",placeholder:"Exam Body",value:g.examBodyName})]})}),Object(v.jsx)(x.a,{md:4,children:Object(v.jsxs)(W.a.Group,{children:[Object(v.jsx)(W.a.Label,{children:Object(v.jsx)("strong",{children:"Subject"})}),Object(v.jsx)(W.a.Control,{disabled:!0,type:"text",placeholder:"Subject",value:g.subjectName})]})}),Object(v.jsx)(x.a,{md:4,children:Object(v.jsxs)(W.a.Group,{children:[Object(v.jsx)(W.a.Label,{children:Object(v.jsx)("strong",{children:"Year"})}),Object(v.jsx)(W.a.Control,{disabled:!0,type:"text",placeholder:"Year",value:g.year})]})})]}),Object(v.jsxs)(m.a,{children:[Object(v.jsx)(x.a,{md:5,children:Object(v.jsx)(V,{label:"Topic",values:i,value:k,onChange:function(e){return I(e.target.value)}})}),Object(v.jsx)(x.a,{md:7,children:Object(v.jsx)(V,{label:"Sub Topic",values:j,value:T,onChange:function(e){return P(e.target.value)}})})]})]}),Object(v.jsx)(m.a,{children:Object(v.jsx)(x.a,{md:6,lg:4,className:"ml-auto",children:Object(v.jsxs)(W.a.Group,{children:[Object(v.jsx)(W.a.Label,{children:Object(v.jsx)("strong",{children:"Question Number"})}),Object(v.jsx)(W.a.Control,{type:"text",placeholder:"Enter Question Number",value:G.questionNumber,onChange:function(e){return ze(parseInt(e.target.value),"questionNumber")}})]})})}),Object(v.jsxs)(m.a,{children:[Object(v.jsxs)(x.a,{sm:12,className:"d-flex",children:[Object(v.jsxs)(W.a.Group,{className:"flex-fill",children:[Object(v.jsx)(W.a.Label,{children:Object(v.jsx)("strong",{children:"Question"})}),Object(v.jsx)(W.a.Control,{type:"text",as:"textarea",rows:3,placeholder:"Enter Question",value:G.question,onChange:function(e){return ze(e.target.value,"question")}})]}),Object(v.jsxs)("div",{className:"ml-3 d-flex flex-column justify-content-end",children:[Object(v.jsx)(W.a.Group,{className:"mb-2",children:Object(v.jsx)(O.a,{className:"cursor-pointer text-warning",size:"lg",icon:h.g,onClick:function(){return Fe(-1)}})}),Object(v.jsx)(W.a.Group,{className:"pb-3",children:Object(v.jsx)(O.a,{className:"cursor-pointer text-info",size:"lg",icon:h.k,onClick:function(e){return function(e){var t=G.tableHeaders.length,a=G.tableData.length+1;ie({columns:t,rows:a>1?a:0}),he(e.target),Ne(!0)}(e)}})})]})]}),G.image?Object(v.jsxs)(x.a,{sm:12,children:[Object(v.jsx)(B.a,{src:G.image,rounded:!0,style:{height:200,maxWidth:"100%"},className:"mb-3 rounded border border-gray p-1"}),Object(v.jsx)(O.a,{className:"cursor-pointer text-danger",size:"lg",icon:h.l,style:{marginLeft:-25,marginBottom:87},onClick:function(){return J(Object(D.a)(Object(D.a)({},G),{},{image:""}))}})]}):null,Object(v.jsx)(x.a,{sm:12,children:Object(v.jsx)(xe,{headers:G.tableHeaders,data:G.tableData,onChange:function(e){var t=e.content;switch(e.type){case"HEADER":J(Object(D.a)(Object(D.a)({},G),{},{tableHeaders:t}));break;case"DATA":J(Object(D.a)(Object(D.a)({},G),{},{tableData:t}))}}})})]}),Object(v.jsxs)(m.a,{children:[Object(v.jsx)(x.a,{sm:12,className:"px-0",children:Object(v.jsxs)(W.a.Group,{children:[Object(v.jsx)(W.a.Label,{children:Object(v.jsx)("strong",{children:"Answers"})}),Object(v.jsx)(O.a,{className:"ml-3 cursor-pointer text-success",icon:h.j,onClick:function(){K(Y.concat([{correct:!1,answer:"",image:"",tableHeaders:[],tableData:[]}]))}})]})}),Object(v.jsx)(pe,{headers:ge,data:Y,onChange:function(e,t,a){var n=JSON.parse(JSON.stringify(Y));switch(a){case"CORRECT":n[t].correct=e,K(n);break;case"ANSWER":n[t].answer=e,K(n);break;case"IMAGE-REMOVE":n[t].image="",K(n);break;case"IMAGE-UPLOAD":Fe(t);break;case"TABLE":for(var c=0,r=Object.keys(e);c<r.length;c++){var s=r[c],i=e[s];n[t][s]=i}K(n);break;case"REMOVE":n.splice(t,1),K(n)}}})]}),Object(v.jsxs)(m.a,{className:"justify-content-between",children:[Object(v.jsx)(C.a,{variant:"warning",onClick:function(e){Ge(e.target),De(!0)},children:"Clear Entry"}),Object(v.jsx)(C.a,{onClick:function(e){Te(e.target),ke(!0)},children:"Register this Question"})]}),Object(v.jsx)(W.a.File,{ref:R,label:"",className:"d-none",onChange:He}),Object(v.jsx)(H.a,{show:ye,target:je,placement:"left",onHide:function(){return Ne(!1)},containerPadding:20,rootClose:!0,children:Object(v.jsxs)(Q.a,{style:{maxWidth:200},children:[Object(v.jsx)(Q.a.Title,{as:"h3",className:"p-3",children:"Create a Table"}),Object(v.jsxs)(Q.a.Content,{children:[Object(v.jsxs)(z.a,{size:"sm",className:"mb-3",children:[Object(v.jsx)(z.a.Prepend,{children:Object(v.jsx)(z.a.Text,{id:"question-table-columns",children:"Columns"})}),Object(v.jsx)(F.a,{"aria-label":"Small","aria-describedby":"question-table-columns",value:se.columns,onChange:function(e){return Qe(e.target.value,"columns")}})]}),Object(v.jsxs)(z.a,{size:"sm",className:"mb-3",children:[Object(v.jsx)(z.a.Prepend,{children:Object(v.jsx)(z.a.Text,{id:"question-table-rows",children:"Rows"})}),Object(v.jsx)(F.a,{"aria-label":"Small","aria-describedby":"question-table-rows",value:se.rows,onChange:function(e){return Qe(e.target.value,"rows")}})]}),Object(v.jsx)("div",{className:"d-flex justify-content-end",children:Object(v.jsx)(C.a,{size:"sm",onClick:function(){if(Ne(!1),se.columns<1||se.rows<1)J(Object(D.a)(Object(D.a)({},G),{},{tableHeaders:[],tableData:[]}));else{var e=JSON.parse(JSON.stringify(G.tableHeaders||[])),t=JSON.parse(JSON.stringify(G.tableData||[]));if(e.length>se.columns)e.length=se.columns;else for(;e.length<se.columns;)e.push("");if(t.length>se.rows-1)t.length=se.rows-1;else for(;t.length<se.rows-1;)t.push([]);for(var a=0;a<t.length;a++){var n=t[a];if(n.length>se.columns-1)n.length=se.columns;else for(;n.length<se.columns;)n.push("")}J(Object(D.a)(Object(D.a)({},G),{},{tableHeaders:e,tableData:t}))}},children:"Create & Close"})})]})]})}),Object(v.jsx)(re.a,{visible:Se,target:Ae,placement:"left",setVisibility:ke,label:"Are you sure to register this question?",onConfirm:function(){ke(!1),G.question?Y.length<1?c("Warning","Need to set answers for the question.",ce.a.Warning):X.registerQuestion(Object(D.a)(Object(D.a)({},G),{},{examBodyId:g.examBodyId,subjectId:g.subjectId,topicId:k,subTopicId:T,year:g.year}),Y).then((function(e){c("Success","A new question is registered successfully.",ce.a.Success),We()}),(function(e){c("[".concat(e.statusCode,"] ").concat(e.error),e.message,ce.a.Danger)})):c("Warning","Need to set question.",ce.a.Warning)}}),Object(v.jsx)(re.a,{visible:qe,target:Ue,placement:"right",setVisibility:De,label:"Are you sure to clear entry?",onConfirm:We})]})}ye.defaultProps={};var Ne=Object(l.g)(Object(ae.c)(ye)),we=["Correct","Option","Actions"],Ce={id:"",question:"",questionNumber:0,image:"",tableHeaders:[],tableData:[]};function Se(e){var t=e.history,a=e.match,c=e.addToastAction,r=Object(n.useState)([]),s=Object(u.a)(r,2),i=s[0],o=s[1],l=Object(n.useState)([]),d=Object(u.a)(l,2),j=d[0],b=d[1],f=Object(n.useState)({examBodyId:"",examBodyName:"",subjectId:"",subjectName:"",year:0}),p=Object(u.a)(f,2),g=p[0],y=p[1],N=Object(n.useState)(""),S=Object(u.a)(N,2),k=S[0],I=S[1],E=Object(n.useState)(""),A=Object(u.a)(E,2),T=A[0],P=A[1],R=Object(n.useRef)(null),L=Object(n.useState)(Ce),U=Object(u.a)(L,2),G=U[0],J=U[1],M=Object(n.useState)([]),_=Object(u.a)(M,2),Y=_[0],Z=_[1],$=Object(n.useState)(null),ee=Object(u.a)($,2),te=ee[0],ae=ee[1],ne=Object(n.useState)({rows:0,columns:0}),se=Object(u.a)(ne,2),ie=se[0],oe=se[1],le=Object(n.useState)(null),je=Object(u.a)(le,2),he=je[0],me=je[1],fe=Object(n.useState)(!1),ge=Object(u.a)(fe,2),ve=ge[0],ye=ge[1],Ne=Object(n.useState)(!1),Se=Object(u.a)(Ne,2),ke=Se[0],Ie=Se[1],Ee=Object(n.useState)(null),Ae=Object(u.a)(Ee,2),Te=Ae[0],Pe=Ae[1],Re=Object(n.useState)(!1),qe=Object(u.a)(Re,2),De=qe[0],Be=qe[1],Le=Object(n.useState)(null),Ue=Object(u.a)(Le,2),Ge=Ue[0],ze=Ue[1];Object(n.useEffect)((function(){var e=a.params.questionId;X.initEditQuestionsPage(e).then((function(e){y({examBodyName:e.question.examBodyName,subjectName:e.question.subjectName,year:e.question.year,examBodyId:e.question.examBodyId,subjectId:e.question.subjectId}),o(e.topics),e.topics.length>0&&I(e.question.topicId),P(e.question.subTopicId),J({id:e.question.id,question:e.question.question,questionNumber:e.question.questionNumber,image:e.question.image,tableHeaders:[].concat(e.question.tableHeaders),tableData:[].concat(e.question.tableData)}),Z([].concat(e.question.answers)),console.log(e.question.answers)}),(function(e){return c("[".concat(e.statusCode,"] ").concat(e.error),e.message,ce.a.Danger)}))}),[]),Object(n.useEffect)((function(){k&&be.getSubTopics(k).then((function(e){b(e),P(e[0].id)}),(function(e){return c("[".concat(e.statusCode,"] ").concat(e.error),e.message,ce.a.Danger)}))}),[k]);var Fe=function(e,t){J(Object(D.a)(Object(D.a)({},G),{},Object(q.a)({},t,e)))},He=function(e){ae(e<0?"QUESTION":"ANSWER-".concat(e)),R.current.click()},Qe=function(){var e=Object(de.a)(ue.a.mark((function e(t){var a,n,c,r;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.target.files.length>0)){e.next=10;break}return a=t.target.files[0],e.next=5,Oe.uploadFile(a);case 5:if(n=e.sent,te){e.next=8;break}return e.abrupt("return");case 8:te.includes("ANSWER")?(c=parseInt(te.split("-")[1]),(r=JSON.parse(JSON.stringify(Y)))[c].image=n,Z(r)):Fe(n,"image"),t.target.value="";case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),We=function(e,t){oe(Object(D.a)(Object(D.a)({},ie),{},Object(q.a)({},t,e)))};return Object(v.jsxs)(w.a,{className:"pt-4",children:[Object(v.jsx)(m.a,{children:Object(v.jsx)(x.a,{children:Object(v.jsx)(C.a,{variant:"link",onClick:function(){return t.goBack()},children:Object(v.jsx)("span",{className:"h6",children:"Back"})})})}),Object(v.jsx)(m.a,{className:"mb-5",children:Object(v.jsx)(x.a,{children:Object(v.jsx)("h1",{className:"text-primary text-center",children:"Edit a Question"})})}),Object(v.jsxs)(W.a,{children:[Object(v.jsxs)(m.a,{children:[Object(v.jsx)(x.a,{md:4,children:Object(v.jsxs)(W.a.Group,{children:[Object(v.jsx)(W.a.Label,{children:Object(v.jsx)("strong",{children:"Exam Body"})}),Object(v.jsx)(W.a.Control,{disabled:!0,type:"text",placeholder:"Exam Body",value:g.examBodyName})]})}),Object(v.jsx)(x.a,{md:4,children:Object(v.jsxs)(W.a.Group,{children:[Object(v.jsx)(W.a.Label,{children:Object(v.jsx)("strong",{children:"Subject"})}),Object(v.jsx)(W.a.Control,{disabled:!0,type:"text",placeholder:"Subject",value:g.subjectName})]})}),Object(v.jsx)(x.a,{md:4,children:Object(v.jsxs)(W.a.Group,{children:[Object(v.jsx)(W.a.Label,{children:Object(v.jsx)("strong",{children:"Year"})}),Object(v.jsx)(W.a.Control,{disabled:!0,type:"text",placeholder:"Year",value:g.year})]})})]}),Object(v.jsxs)(m.a,{children:[Object(v.jsx)(x.a,{md:5,children:Object(v.jsx)(V,{label:"Topic",values:i,value:k,onChange:function(e){return I(e.target.value)}})}),Object(v.jsx)(x.a,{md:7,children:Object(v.jsx)(V,{label:"Sub Topic",values:j,value:T,onChange:function(e){return P(e.target.value)}})})]})]}),Object(v.jsx)(m.a,{children:Object(v.jsx)(x.a,{md:6,lg:4,className:"ml-auto",children:Object(v.jsxs)(W.a.Group,{children:[Object(v.jsx)(W.a.Label,{children:Object(v.jsx)("strong",{children:"Question Number"})}),Object(v.jsx)(W.a.Control,{type:"text",placeholder:"Enter Question Number",value:G.questionNumber,onChange:function(e){return Fe(parseInt(e.target.value),"questionNumber")}})]})})}),Object(v.jsxs)(m.a,{children:[Object(v.jsxs)(x.a,{sm:12,className:"d-flex",children:[Object(v.jsxs)(W.a.Group,{className:"flex-fill",children:[Object(v.jsx)(W.a.Label,{children:Object(v.jsx)("strong",{children:"Question"})}),Object(v.jsx)(W.a.Control,{type:"text",as:"textarea",rows:3,placeholder:"Enter Question",value:G.question,onChange:function(e){return Fe(e.target.value,"question")}})]}),Object(v.jsxs)("div",{className:"ml-3 d-flex flex-column justify-content-end",children:[Object(v.jsx)(W.a.Group,{className:"mb-2",children:Object(v.jsx)(O.a,{className:"cursor-pointer text-warning",size:"lg",icon:h.g,onClick:function(){return He(-1)}})}),Object(v.jsx)(W.a.Group,{className:"pb-3",children:Object(v.jsx)(O.a,{className:"cursor-pointer text-info",size:"lg",icon:h.k,onClick:function(e){return function(e){var t=G.tableHeaders.length,a=G.tableData.length+1;oe({columns:t,rows:a>1?a:0}),me(e.target),ye(!0)}(e)}})})]})]}),G.image?Object(v.jsxs)(x.a,{sm:12,children:[Object(v.jsx)(B.a,{src:G.image,rounded:!0,style:{height:200,maxWidth:"100%"},className:"mb-3 rounded border border-gray p-1"}),Object(v.jsx)(O.a,{className:"cursor-pointer text-danger",size:"lg",icon:h.l,style:{marginLeft:-25,marginBottom:87},onClick:function(){return J(Object(D.a)(Object(D.a)({},G),{},{image:""}))}})]}):null,Object(v.jsx)(x.a,{sm:12,children:Object(v.jsx)(xe,{headers:G.tableHeaders,data:G.tableData,onChange:function(e){var t=e.content;switch(e.type){case"HEADER":J(Object(D.a)(Object(D.a)({},G),{},{tableHeaders:t}));break;case"DATA":J(Object(D.a)(Object(D.a)({},G),{},{tableData:t}))}}})})]}),Object(v.jsxs)(m.a,{children:[Object(v.jsx)(x.a,{sm:12,className:"px-0",children:Object(v.jsxs)(W.a.Group,{children:[Object(v.jsx)(W.a.Label,{children:Object(v.jsx)("strong",{children:"Answers"})}),Object(v.jsx)(O.a,{className:"ml-3 cursor-pointer text-success",icon:h.j,onClick:function(){Z(Y.concat([{correct:!1,answer:"",image:"",tableHeaders:[],tableData:[]}]))}})]})}),Object(v.jsx)(pe,{headers:we,data:Y,onChange:function(e,t,a){var n=JSON.parse(JSON.stringify(Y));switch(a){case"CORRECT":n[t].correct=e,Z(n);break;case"ANSWER":n[t].answer=e,Z(n);break;case"IMAGE-REMOVE":n[t].image="",Z(n);break;case"IMAGE-UPLOAD":He(t);break;case"TABLE":for(var c=0,r=Object.keys(e);c<r.length;c++){var s=r[c],i=e[s];n[t][s]=i}Z(n);break;case"REMOVE":n.splice(t,1),Z(n)}}})]}),Object(v.jsxs)(m.a,{className:"justify-content-between",children:[Object(v.jsx)(C.a,{variant:"warning",onClick:function(e){ze(e.target),Be(!0)},children:"Clear Entry"}),Object(v.jsx)(C.a,{disabled:G.status===K.Published,onClick:function(e){Pe(e.target),Ie(!0)},children:"Update this Question"})]}),Object(v.jsx)(W.a.File,{ref:R,label:"",className:"d-none",onChange:Qe}),Object(v.jsx)(H.a,{show:ve,target:he,placement:"left",onHide:function(){return ye(!1)},containerPadding:20,rootClose:!0,children:Object(v.jsxs)(Q.a,{style:{maxWidth:200},children:[Object(v.jsx)(Q.a.Title,{as:"h3",className:"p-3",children:"Create a Table"}),Object(v.jsxs)(Q.a.Content,{children:[Object(v.jsxs)(z.a,{size:"sm",className:"mb-3",children:[Object(v.jsx)(z.a.Prepend,{children:Object(v.jsx)(z.a.Text,{id:"question-table-columns",children:"Columns"})}),Object(v.jsx)(F.a,{"aria-label":"Small","aria-describedby":"question-table-columns",value:ie.columns,onChange:function(e){return We(e.target.value,"columns")}})]}),Object(v.jsxs)(z.a,{size:"sm",className:"mb-3",children:[Object(v.jsx)(z.a.Prepend,{children:Object(v.jsx)(z.a.Text,{id:"question-table-rows",children:"Rows"})}),Object(v.jsx)(F.a,{"aria-label":"Small","aria-describedby":"question-table-rows",value:ie.rows,onChange:function(e){return We(e.target.value,"rows")}})]}),Object(v.jsx)("div",{className:"d-flex justify-content-end",children:Object(v.jsx)(C.a,{size:"sm",onClick:function(){if(ye(!1),ie.columns<1||ie.rows<1)J(Object(D.a)(Object(D.a)({},G),{},{tableHeaders:[],tableData:[]}));else{var e=JSON.parse(JSON.stringify(G.tableHeaders||[])),t=JSON.parse(JSON.stringify(G.tableData||[]));if(e.length>ie.columns)e.length=ie.columns;else for(;e.length<ie.columns;)e.push("");if(t.length>ie.rows-1)t.length=ie.rows-1;else for(;t.length<ie.rows-1;)t.push([]);for(var a=0;a<t.length;a++){var n=t[a];if(n.length>ie.columns-1)n.length=ie.columns;else for(;n.length<ie.columns;)n.push("")}J(Object(D.a)(Object(D.a)({},G),{},{tableHeaders:e,tableData:t}))}},children:"Create & Close"})})]})]})}),Object(v.jsx)(re.a,{visible:ke,target:Te,placement:"left",setVisibility:Ie,label:"Are you sure to update this question?",onConfirm:function(){Ie(!1),G.question?Y.length<1?c("Warning","Need to set answers for the question.",ce.a.Warning):X.updateQuestion(Object(D.a)(Object(D.a)({},G),{},{examBodyId:g.examBodyId,subjectId:g.subjectId,topicId:k,subTopicId:T,year:g.year}),Y).then((function(e){c("Success","The question is updated successfully.",ce.a.Success)}),(function(e){c("[".concat(e.statusCode,"] ").concat(e.error),e.message,ce.a.Danger)})):c("Warning","Need to set question.",ce.a.Warning)}}),Object(v.jsx)(re.a,{visible:De,target:Ge,placement:"right",setVisibility:Be,label:"Are you sure to clear entry?",onConfirm:function(){Z([]),J(Ce),Be(!1)}})]})}Se.defaultProps={};var ke=Object(l.g)(Object(ae.c)(Se)),Ie=a(198),Ee=a(406),Ae=a(411),Te=a(405),Pe=a(54),Re=a(5),qe=a.n(Re),De=a(4),Be=a.n(De);function Le(e){var t=e.correct,a=e.answer,n=e.image,c=e.tableHeaders,r=e.tableData;return Object(v.jsxs)(W.a,{className:"pb-3",children:[Object(v.jsx)(W.a.Check,{className:"d-flex align-items-center",type:"checkbox",checked:t,onChange:function(){},label:Object(v.jsx)(me,{value:a,equation:!0})}),n?Object(v.jsx)(W.a.Row,{className:"ml-3",children:Object(v.jsx)(B.a,{src:n,rounded:!0,style:{height:100,maxWidth:"100%"}})}):null,c&&c.length?Object(v.jsx)(fe,{headers:c,data:r}):null]})}Le.defaultProps={correct:!1,answer:"",image:"",tableHeaders:[],tableData:[]};var Ue=Le;function Ge(e){var t=e.history,a=e.onDelete,c=e.topicName,r=e.subTopicName,s=e.id,i=e.question,o=e.questionNumber,l=e.status,d=e.image,j=e.tableHeaders,b=e.tableData,m=e.answers,x=e.user,p=Object(n.useState)(!1),g=Object(u.a)(p,2),y=g[0],N=g[1],w=Object(n.useState)(null),C=Object(u.a)(w,2),S=C[0],k=C[1],I=Object(n.useState)(!1),E=Object(u.a)(I,2),A=E[0],T=E[1],P=Object(n.useState)(null),R=Object(u.a)(P,2),q=R[0],L=R[1];return Object(v.jsxs)("div",{className:"border-bottom border-gray lh-125 mb-0 pt-1",children:[Object(v.jsx)(Ae.a,{children:Object(v.jsxs)(f.a,{children:[Object(v.jsxs)(f.a.Header,{className:"d-flex align-items-center",children:[Object(v.jsxs)("div",{className:"m-0 d-flex align-items-center",children:[Object(v.jsxs)("strong",{className:"mr-1",children:["[",o,"]"]})," ",Object(v.jsx)(me,{value:i,equation:!0})]}),Object(v.jsx)(Ae.a.Toggle,{as:O.a,icon:h.a,size:"lg",eventKey:"0",className:qe()(["cursor-pointer","toggle-arrow","ml-auto"],{"toggle-arrow-open":y}),onClick:function(){return N(!y)},children:"Click me!"})]}),Object(v.jsx)(Ae.a.Collapse,{eventKey:"0",children:Object(v.jsxs)(f.a.Body,{children:[Object(v.jsxs)(Te.a,{variant:"secondary",size:"sm",title:"Actions",className:"text-right d-block",children:[Object(v.jsx)(Pe.a.Item,{disabled:x.role===ne.b.Admin&&l===K.Published,onClick:function(){return t.push("/admin/questions/edit/".concat(s))},children:"Edit Entry"}),Object(v.jsx)(Pe.a.Item,{disabled:x.role===ne.b.Admin&&l===K.Published,onClick:function(e){return function(e,t){var a=e.target.parentNode.parentNode.firstChild;L(a),T(!A),k(t)}(e,s)},children:"Delete Question"})]}),Object(v.jsxs)("p",{children:[Object(v.jsx)("strong",{children:"Topic:"})," ",c]}),Object(v.jsxs)("p",{children:[Object(v.jsx)("strong",{children:"Sub Topic:"})," ",r]}),Object(v.jsx)("div",{className:"m-0 d-flex align-items-center",children:Object(v.jsx)(me,{value:i,equation:!0})}),d?Object(v.jsx)(W.a.Row,{className:"ml-3",children:Object(v.jsx)(B.a,{src:d,rounded:!0,style:{height:100,maxWidth:"100%"}})}):null,Object(v.jsx)(fe,{headers:j,data:b}),m.map((function(e,t){return Object(v.jsx)(Ue,Object(D.a)({},e),t)}))]})})]})}),Object(v.jsx)(re.a,{visible:A,target:q,setVisibility:T,label:"Are you sure to delete this question?",onConfirm:function(){T(!1),a(S)}})]})}Ge.defaultProps={id:"",examBodyId:"",examBodyName:"",examBodyLogoUrl:"",subjectId:"",subjectName:"",topicId:"",topicName:"",subTopicId:"",subTopicName:"",year:1988,question:"",questionNumber:1,image:"",status:K.Draft,tableHeaders:[],tableData:[],answers:[],onDelete:Be.a.func};var ze=Object(l.g)(Object(ae.a)(Ge));function Fe(e){var t=e.match,a=e.history,c=e.addToastAction,r=e.user,s=Object(n.useState)({examBodyId:"",examBodyName:"",subjectId:"",subjectName:"",year:0}),i=Object(u.a)(s,2),o=i[0],l=i[1],d=Object(n.useState)([{id:"",name:"- All Topics -"}]),j=Object(u.a)(d,2),b=j[0],O=j[1],h=Object(n.useState)([{id:"",name:"- All Sub Topics -"}]),f=Object(u.a)(h,2),p=f[0],g=f[1],y=Object(n.useState)(""),N=Object(u.a)(y,2),S=N[0],I=N[1],E=Object(n.useState)(""),A=Object(u.a)(E,2),T=A[0],P=A[1],R=Object(n.useState)([]),q=Object(u.a)(R,2),B=q[0],L=q[1],U=Object(n.useState)(!1),G=Object(u.a)(U,2),z=G[0],F=G[1],H=Object(n.useState)(!1),Q=Object(u.a)(H,2),J=Q[0],M=Q[1],_=Object(n.useState)(null),Y=Object(u.a)(_,2),Z=Y[0],$=Y[1],ee=Object(n.useState)(!1),te=Object(u.a)(ee,2),ae=te[0],se=te[1],ie=Object(n.useState)(null),oe=Object(u.a)(ie,2),le=oe[0],ue=oe[1];Object(n.useEffect)((function(){var e=t.params,a=e.examBodyId,n=e.subjectId,r=e.year;F(!0),X.initRegisterQuestionsPage(a,n).then((function(e){var t=e.examBodyName,c=e.subjectName;l({examBodyName:t,subjectName:c,year:parseInt(r),examBodyId:a,subjectId:n}),O([{id:"",name:"- All Topics -"}].concat(e.topics))}),(function(e){c("[".concat(e.statusCode,"] ").concat(e.error),e.message,ce.a.Danger),F(!1)}))}),[]),Object(n.useEffect)((function(){de()}),[o]),Object(n.useEffect)((function(){S?be.getSubTopics(S).then((function(e){g([{id:"",name:"- All Sub Topics -"}].concat(e)),T?P(""):de()}),(function(e){return c("[".concat(e.statusCode,"] ").concat(e.error),e.message,ce.a.Danger)})):(g([{id:"",name:"- All Sub Topics -"}]),T?P(""):de())}),[S]),Object(n.useEffect)((function(){de()}),[T]);var de=function(){o.examBodyId&&o.subjectId&&o.year&&(F(!0),X.findQuestionsByExam(o.examBodyId,o.subjectId,o.year,{topicId:S,subTopicId:T,keyword:""}).then((function(e){L(e),F(!1)}),(function(e){c("[".concat(e.statusCode,"] ").concat(e.error),e.message,ce.a.Danger),F(!1)})))},je=function(e){ue(e.target),se(!0)},Oe=function(e){$(e.target),M(!0)},he=function(e){var t,a=JSON.parse(JSON.stringify(B)),n=Object(Ie.a)(a);try{for(n.s();!(t=n.n()).done;){t.value.status=e}}catch(c){n.e(c)}finally{n.f()}L(a)},me=function(e){X.deleteQuestion(e).then((function(t){var a=JSON.parse(JSON.stringify(B)),n=a.findIndex((function(t){return t.id===e}));a.splice(n,1),L(a)}),(function(e){return c("[".concat(e.statusCode,"] ").concat(e.error),e.message,ce.a.Danger)}))};return Object(v.jsxs)(w.a,{className:"pt-4",children:[Object(v.jsx)(m.a,{children:Object(v.jsx)(x.a,{children:Object(v.jsx)(C.a,{variant:"link",onClick:function(){return a.goBack()},children:Object(v.jsx)("span",{className:"h6",children:"Back"})})})}),Object(v.jsx)(m.a,{className:"mb-5",children:Object(v.jsx)(x.a,{children:Object(v.jsx)("h1",{className:"text-center text-primary",children:"Questions List"})})}),Object(v.jsxs)(W.a,{children:[Object(v.jsxs)(m.a,{children:[Object(v.jsx)(x.a,{md:4,children:Object(v.jsxs)(W.a.Group,{children:[Object(v.jsx)(W.a.Label,{children:Object(v.jsx)("strong",{children:"Exam Body"})}),Object(v.jsx)(W.a.Control,{disabled:!0,type:"text",placeholder:"Exam Body",value:o.examBodyName})]})}),Object(v.jsx)(x.a,{md:4,children:Object(v.jsxs)(W.a.Group,{children:[Object(v.jsx)(W.a.Label,{children:Object(v.jsx)("strong",{children:"Subject"})}),Object(v.jsx)(W.a.Control,{disabled:!0,type:"text",placeholder:"Subject",value:o.subjectName})]})}),Object(v.jsx)(x.a,{md:4,children:Object(v.jsxs)(W.a.Group,{children:[Object(v.jsx)(W.a.Label,{children:Object(v.jsx)("strong",{children:"Year"})}),Object(v.jsx)(W.a.Control,{disabled:!0,type:"text",placeholder:"Year",value:o.year})]})})]}),Object(v.jsxs)(m.a,{children:[Object(v.jsx)(x.a,{md:5,children:Object(v.jsx)(V,{label:"Topic",values:b,value:S,onChange:function(e){return I(e.target.value)}})}),Object(v.jsx)(x.a,{md:7,children:Object(v.jsx)(V,{label:"Sub Topic",values:p,value:T,onChange:function(e){return P(e.target.value)}})})]})]}),Object(v.jsx)(m.a,{className:"mt-5 mb-3",children:Object(v.jsxs)(x.a,{children:[B.length<1?null:B[0].status===K.Draft?Object(v.jsx)(Ee.a,{variant:"info",children:" Questions are in draft."}):B[0].status===K.UnderReview?Object(v.jsx)(Ee.a,{variant:"info",children:" Questions are under review."}):Object(v.jsx)(Ee.a,{variant:"success",children:" Questions are already published."}),B.length<1?null:B[0].status===K.Draft?Object(v.jsx)(C.a,{variant:"info",disabled:z,className:"float-right",onClick:je,children:"Request to Publish"}):B[0].status===K.UnderReview&&r.role===ne.b.SuperAdmin?Object(v.jsx)(C.a,{variant:"success",disabled:z,className:"float-right",onClick:Oe,children:"Publish Now"}):null]})}),Object(v.jsx)(m.a,{className:"justify-content-center",children:z?Object(v.jsx)(k,{}):B.map((function(e,t){return Object(v.jsx)(x.a,{sm:12,children:Object(v.jsx)(ze,Object(D.a)(Object(D.a)({},e),{},{onDelete:me}))},t)}))}),Object(v.jsx)(re.a,{visible:J,target:Z,setVisibility:M,label:"Are you sure to publish questions?",onConfirm:function(){M(!1);var e=t.params,a=e.examBodyId,n=e.subjectId,r=e.year;X.publishQuestions(a,n,parseInt(r)).then((function(e){c("Success","Questions are requested to be published.",ce.a.Success),he(K.Published)}),(function(e){return c("[".concat(e.statusCode,"] ").concat(e.error),e.message,ce.a.Danger)}))}}),Object(v.jsx)(re.a,{visible:ae,target:le,setVisibility:se,label:"Are you sure to request these questions to publish?",onConfirm:function(){se(!1);var e=t.params,a=e.examBodyId,n=e.subjectId,r=e.year;X.requestToPublish(a,n,parseInt(r)).then((function(e){c("Success","Questions are requested to be published.",ce.a.Success),he(K.UnderReview)}),(function(e){return c("[".concat(e.statusCode,"] ").concat(e.error),e.message,ce.a.Danger)}))}})]})}Fe.defaultProps={};var He=Object(l.g)(Object(ae.c)(Object(ae.a)(Fe))),Qe=function(e){var t=e.size,a=e.label,c=e.color,r=e.value,s=e.onChange,i=e.className,o=Object(n.useState)(""),l=Object(u.a)(o,2),d=l[0],j=l[1];return Object(n.useEffect)((function(){j(String(Date.now()).toLowerCase())}),[]),Object(v.jsxs)("div",{className:qe()("custom-control custom-switch",i,{"custom-switch-sm":"sm"===t,"custom-switch-md":"md"===t,"custom-switch-lg":"lg"===t,"custom-switch-xl":"xl"===t}),children:[Object(v.jsx)("input",{type:"checkbox",className:"custom-control-input",id:"switch-".concat(d),checked:r,onChange:s}),Object(v.jsx)("label",{className:qe()("custom-control-label","custom-control-label-".concat(c)),htmlFor:"switch-".concat(d)}),Object(v.jsx)("label",{children:a})]})};Qe.defaultProps={size:"md",color:"primary",label:"",value:!1,onChange:function(){},className:""};var We=a(58),Ve=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e?localStorage.setItem(E.c.UITheme,We.a.Dark):e||localStorage.setItem(E.c.UITheme,We.a.Light),t&&window.location.reload()},Je=function(){return localStorage.getItem(E.c.UITheme)===We.a.Dark},Me=Object(n.lazy)((function(){return a.e(12).then(a.bind(null,493))})),_e=Object(n.lazy)((function(){return Promise.all([a.e(0),a.e(16)]).then(a.bind(null,494))})),Ye=Object(n.lazy)((function(){return Promise.all([a.e(0),a.e(15)]).then(a.bind(null,495))})),Ke=Object(n.lazy)((function(){return a.e(11).then(a.bind(null,496))})),Ze=Object(n.lazy)((function(){return a.e(14).then(a.bind(null,497))})),$e=Object(n.lazy)((function(){return a.e(1).then(a.bind(null,498))})),Xe=Object(n.lazy)((function(){return a.e(7).then(a.bind(null,499))})),et=Object(n.lazy)((function(){return a.e(2).then(a.bind(null,503))}));var tt=Object(l.g)(Object(ae.a)((function(e){var t=e.match,a=e.history,c=(e.user,e.logoutUserAction),r=Object(n.useState)(Je()),s=Object(u.a)(r,1)[0];return Object(v.jsxs)("div",{className:"vh-100 vw-100",children:[Object(v.jsxs)(d.a,{className:"shadow-sm bg-white",expand:"sm",children:[Object(v.jsx)(d.a.Brand,{children:Object(v.jsx)("span",{className:"cursor-pointer",onClick:function(){return a.push("/")},children:"Video Watching"})}),Object(v.jsx)(d.a.Toggle,{}),Object(v.jsxs)(d.a.Collapse,{className:"justify-content-end",children:[Object(v.jsxs)(j.a,{className:"mr-auto",children:[Object(v.jsx)(o.b,{className:"nav-link",to:"/admin/users",children:"Users"}),Object(v.jsx)(o.b,{className:"nav-link",to:"/admin/videos",children:"Videos"}),Object(v.jsx)(o.b,{className:"nav-link",to:"/admin/reports",children:"Reports"})]}),Object(v.jsxs)(j.a,{className:"ml-auto mr-3",children:[Object(v.jsxs)("div",{className:"d-flex",children:[Object(v.jsx)(Qe,{className:"my-auto mr-1",value:s,onChange:function(e){return Ve(e.target.checked)}}),Object(v.jsx)(j.a.Link,{disabled:!0,className:"px-0",children:"Dark Theme"})]}),Object(v.jsx)(b.a,{alignRight:!0,title:Object(v.jsx)(O.a,{className:"mx-1 my-auto",icon:h.n,size:"lg"}),children:Object(v.jsx)(b.a.Item,{onClick:c,children:"Logout"})})]})]})]}),Object(v.jsx)("div",{className:"mx-2",children:Object(v.jsx)("main",{className:"container mt-3 shadow-sm rounded bg-white p-3 mt-2",children:Object(v.jsxs)(l.d,{children:[Object(v.jsx)(l.b,{exact:!0,path:"".concat(t.url,"/dashboard"),component:N}),Object(v.jsx)(l.b,{exact:!0,path:"".concat(t.url,"/questions/select-exam-body"),component:R}),Object(v.jsx)(l.b,{exact:!0,path:"".concat(t.url,"/questions/by-exam-body/:examBodyId"),component:oe}),Object(v.jsx)(l.b,{exact:!0,path:"".concat(t.url,"/questions/add/:examBodyId/:subjectId/:year"),component:Ne}),Object(v.jsx)(l.b,{exact:!0,path:"".concat(t.url,"/questions/view/:examBodyId/:subjectId/:year"),component:He}),Object(v.jsx)(l.b,{exact:!0,path:"".concat(t.url,"/questions/edit/:questionId"),component:ke}),Object(v.jsx)(l.b,{exact:!0,path:"".concat(t.url,"/videos"),component:Me}),Object(v.jsx)(l.b,{exact:!0,path:"".concat(t.url,"/videos/view/:id"),component:_e}),Object(v.jsx)(l.b,{exact:!0,path:"".concat(t.url,"/videos/add"),component:Ye}),Object(v.jsx)(l.b,{exact:!0,path:"".concat(t.url,"/videos/:id/update"),component:Ye}),Object(v.jsx)(l.b,{exact:!0,path:"".concat(t.url,"/users"),component:Ke}),Object(v.jsx)(l.b,{exact:!0,path:"".concat(t.url,"/users/add"),component:Ze}),Object(v.jsx)(l.b,{exact:!0,path:"".concat(t.url,"/users/:id/update"),component:Ze}),Object(v.jsx)(l.b,{exact:!0,path:"".concat(t.url,"/users/view/:id"),component:$e}),Object(v.jsx)(l.b,{exact:!0,path:"".concat(t.url,"/reports"),component:Xe}),Object(v.jsx)(l.b,{exact:!0,path:"".concat(t.url,"/reports/view/:reportId"),component:et}),Object(v.jsx)(l.b,{path:"/",children:Object(v.jsx)(l.a,{to:"".concat(t.url,"/dashboard")})})]})})})]})})));function at(){return Object(v.jsx)("div",{className:"bg-primary py-100 text-center",children:Object(v.jsx)("span",{className:"display-4",children:"Customer Dashboard"})})}at.defaultProps={};var nt=Object(l.g)(at),ct=Object(n.lazy)((function(){return a.e(13).then(a.bind(null,500))})),rt=Object(n.lazy)((function(){return Promise.all([a.e(0),a.e(6),a.e(17)]).then(a.bind(null,502))})),st=Object(n.lazy)((function(){return a.e(1).then(a.bind(null,498))})),it=Object(n.lazy)((function(){return a.e(2).then(a.bind(null,503))}));var ot=Object(l.g)(Object(ae.a)((function(e){var t=e.match,a=e.history,c=e.logoutUserAction,r=e.user,s=Object(n.useState)(Je()),i=Object(u.a)(s,1)[0];return Object(v.jsxs)("div",{className:"vh-100 vw-100",children:[Object(v.jsxs)(d.a,{bg:"dark",variant:"dark",expand:"md",children:[Object(v.jsx)(d.a.Brand,{children:Object(v.jsx)("span",{className:"cursor-pointer",onClick:function(){return a.push("/")},children:"Video Watching"})}),Object(v.jsx)(d.a.Toggle,{}),Object(v.jsxs)(d.a.Collapse,{className:"justify-content-end",children:[Object(v.jsxs)(j.a,{className:"mr-auto",children:[Object(v.jsx)(o.b,{className:"nav-link",to:"".concat(t.url,"/videos"),children:"Videos"}),Object(v.jsx)(o.b,{className:"nav-link",to:"".concat(t.url,"/users/").concat(r.id,"/reports"),children:"Report"})]}),Object(v.jsxs)(j.a,{className:"ml-auto mr-3",children:[Object(v.jsxs)("div",{className:"d-flex",children:[Object(v.jsx)(Qe,{className:"my-auto mr-1",value:i,onChange:function(e){return Ve(e.target.checked)}}),Object(v.jsx)(j.a.Link,{disabled:!0,className:"px-0",children:"Dark Theme"})]}),Object(v.jsx)(b.a,{alignRight:!0,title:Object(v.jsx)(O.a,{className:"mx-1 my-auto",icon:h.n,size:"lg"}),children:Object(v.jsx)(b.a.Item,{onClick:c,children:"Logout"})})]})]})]}),Object(v.jsx)("main",{className:"container shadow-sm rounded bg-white p-3 mt-2",children:Object(v.jsxs)(l.d,{children:[Object(v.jsx)(l.b,{exact:!0,path:"".concat(t.url,"/dashboard"),component:nt}),Object(v.jsx)(l.b,{exact:!0,path:"".concat(t.url,"/users"),children:Object(v.jsx)("div",{children:"User Management"})}),Object(v.jsx)(l.b,{exact:!0,path:"".concat(t.url,"/users/:id/reports"),component:st}),Object(v.jsx)(l.b,{exact:!0,path:"".concat(t.url,"/users/:id/reports/:reportId"),component:it}),Object(v.jsx)(l.b,{exact:!0,path:"".concat(t.url,"/videos"),component:ct}),Object(v.jsx)(l.b,{exact:!0,path:"".concat(t.url,"/videos/view/:id"),component:rt}),Object(v.jsx)(l.b,{path:"/",children:Object(v.jsx)(l.a,{to:"".concat(t.url,"/videos")})})]})})]})})));function lt(){return Object(v.jsx)("div",{className:"bg-primary py-100 text-center",children:Object(v.jsx)("span",{className:"display-1",children:"Welcome"})})}lt.defaultProps={};var ut=lt,dt=a(37);var jt=Object(l.g)(Object(ae.a)((function(e){var t=e.user,a=e.loginUserAction,c=e.history,r=e.authError,s=Object(n.useState)(""),i=Object(u.a)(s,2),o=i[0],l=i[1],d=Object(n.useState)(""),j=Object(u.a)(d,2),b=j[0],O=j[1],h=Object(n.useState)(!1),m=Object(u.a)(h,2),x=m[0],p=m[1];return Object(n.useEffect)((function(){t&&c.replace(Object(dt.b)())}),[t]),Object(v.jsx)("div",{className:"py-100",children:Object(v.jsxs)(f.a,{className:"mx-auto shadow-sm",style:{width:"fit-content"},children:[Object(v.jsx)(f.a.Header,{as:"h5",children:"Login"}),Object(v.jsx)(f.a.Body,{children:Object(v.jsxs)(W.a,{children:[Object(v.jsxs)(W.a.Group,{controlId:"loginFormEmail",children:[Object(v.jsx)(W.a.Label,{children:"Email address"}),Object(v.jsx)(W.a.Control,{type:"email",placeholder:"Enter email",value:o,onChange:function(e){return l(e.target.value)}}),Object(v.jsx)(W.a.Text,{className:"text-muted",children:"We'll never share your email with anyone else."})]}),Object(v.jsxs)(W.a.Group,{controlId:"loginFormPassword",children:[Object(v.jsx)(W.a.Label,{children:"Password"}),Object(v.jsx)(W.a.Control,{type:"password",placeholder:"Password",value:b,onChange:function(e){return O(e.target.value)},onKeyPress:function(e){return"Enter"===e.key&&a({email:o,password:b},c)}})]}),Object(v.jsx)(W.a.Group,{children:Object(v.jsx)(W.a.Text,{className:"text-center text-danger",children:x&&String(r)})}),Object(v.jsx)(W.a.Row,{className:"justify-content-end",children:Object(v.jsx)(C.a,{className:"float-right",variant:"primary",onClick:function(){p(!0),a({email:o,password:b},c)},children:"Login"})}),Object(v.jsxs)(W.a.Row,{className:"flex-direction-column",children:[Object(v.jsx)("hr",{className:"w-100"}),Object(v.jsx)(W.a.Text,{className:"text-muted mx-auto",children:Object(v.jsx)("span",{className:"cursor-pointer hover-underline",onClick:function(){return c.push("/auth/register")},children:"Register now"})})]})]})})]})})})));var bt=Object(l.g)((function(e){var t=e.history;return Object(v.jsx)("div",{className:"py-100",children:Object(v.jsxs)(f.a,{className:"mx-auto shadow-sm",style:{width:"fit-content"},children:[Object(v.jsx)(f.a.Header,{as:"h5",children:"Forgot Password?"}),Object(v.jsx)(f.a.Body,{children:Object(v.jsxs)(W.a,{children:[Object(v.jsxs)(W.a.Group,{controlId:"formBasicEmail",children:[Object(v.jsx)(W.a.Label,{children:"Email address"}),Object(v.jsx)(W.a.Control,{type:"email",placeholder:"Enter email"}),Object(v.jsx)(W.a.Text,{className:"text-muted",children:"We'll send link to your email."})]}),Object(v.jsxs)(W.a.Row,{className:"justify-content-between",children:[Object(v.jsx)(C.a,{variant:"secondary",onClick:function(){return t.goBack()},children:"Go back to Login"}),Object(v.jsx)(C.a,{className:"ml-3",variant:"primary",children:"Submit"})]})]})})]})})}));var Ot=Object(l.g)((function(e){var t=e.history;return Object(v.jsx)("div",{className:"py-100",children:Object(v.jsxs)(f.a,{className:"mx-auto shadow-sm",style:{width:"fit-content"},children:[Object(v.jsx)(f.a.Header,{as:"h5",children:"Reset Password"}),Object(v.jsx)(f.a.Body,{children:Object(v.jsxs)(W.a,{children:[Object(v.jsxs)(W.a.Group,{controlId:"resetPasswordFormPassword",children:[Object(v.jsx)(W.a.Label,{children:"Password"}),Object(v.jsx)(W.a.Control,{type:"password",placeholder:"Password"}),Object(v.jsx)(W.a.Text,{className:"text-muted",children:"Type your password. Preferable a secure combination."})]}),Object(v.jsxs)(W.a.Group,{controlId:"resetPasswordFormConfirmPassword",children:[Object(v.jsx)(W.a.Label,{children:"Confirm Password"}),Object(v.jsx)(W.a.Control,{type:"password",placeholder:"Confirm Password"}),Object(v.jsx)(W.a.Text,{className:"text-muted",children:"Confirm your password."})]}),Object(v.jsx)(W.a.Row,{className:"justify-content-end",children:Object(v.jsx)(C.a,{variant:"primary",onClick:function(){return t.push("/auth/login")},children:"Reset Password"})})]})})]})})})),ht=a(121),mt="".concat(E.a,"/auth"),xt={signInWithEmailAndPassword:function(e,t){var a="".concat(mt,"/login");return M.a.post(a,{email:e,password:t}).then((function(e){Object(dt.e)(e.token)}))},verifyAccessToken:function(){if(Object(dt.a)()){var e="".concat(mt,"/profile");return M.a.get(e).then((function(e){return{user:e}}),(function(e){return e}))}},registerAdminUser:function(e){var t="".concat(mt,"/register");return M.a.post(t,Object(D.a)(Object(D.a)({},e),{},{role:ne.b.Admin}))},signOut:function(){Object(dt.d)()},sendPasswordResetEmail:function(e){}};var ft=Object(l.g)(Object(ae.c)((function(e){var t=e.history,a=e.addToastAction,c=Object(n.useState)({gender:"",fullName:"",password:"",confirmPassword:"",email:""}),r=Object(u.a)(c,2),s=r[0],i=r[1],o=Object(n.useState)({gender:"",fullName:"",password:"",confirmPassword:"",email:"",validated:!1}),l=Object(u.a)(o,2),d=l[0],j=l[1],b=Object(n.useState)([]),O=Object(u.a)(b,2),h=O[0],m=O[1];Object(n.useEffect)((function(){var e=[];for(var t in ne.a)if(Object.hasOwnProperty.call(ne.a,t)){var a=ne.a[t];e.push({id:a,name:Object(ht.a)(a)})}m(e),i(Object(D.a)(Object(D.a)({},s),{},{gender:e[0].id}))}),[]);var p=function(e,t){i(Object(D.a)(Object(D.a)({},s),{},Object(q.a)({},t,e)))},g=function(e){e.preventDefault(),e.stopPropagation();var n=y(),c=n.newValidationErrors,r=n.invalid;j(Object(D.a)(Object(D.a)({},c),{},{validated:!0})),r||xt.registerAdminUser({email:s.email,fullName:s.fullName,gender:s.gender,password:s.password}).then((function(e){a("Congrationations","You have successfully registered a new account.",ce.a.Success),t.push("/auth/login")}),(function(e){return a("[".concat(e.statusCode,"] ").concat(e.error),e.message,ce.a.Danger)}))},y=function(){var e={email:"",fullName:"",gender:"",password:"",confirmPassword:""},t=!0;return s.email?Object(ht.g)(s.email)||(e.email="Please enter valid email",t=!1):(e.email="Please enter an email",t=!1),s.fullName||(e.fullName="Please enter Full name",t=!1),s.gender||(e.gender="Please select your gender",t=!1),s.password||(e.password="Please enter password",t=!1),s.confirmPassword?s.confirmPassword!==s.password&&(e.confirmPassword="Different password detected",t=!1):(e.confirmPassword="Please enter password",t=!1),{newValidationErrors:e,invalid:!t}};return Object(v.jsx)("div",{className:"py-100",children:Object(v.jsxs)(f.a,{className:"mx-auto shadow-sm",style:{width:"fit-content",minWidth:"400px"},children:[Object(v.jsx)(f.a.Header,{as:"h5",children:"Register"}),Object(v.jsx)(f.a.Body,{children:Object(v.jsxs)(W.a,{validated:d.validated,onSubmit:g,children:[Object(v.jsxs)(W.a.Group,{children:[Object(v.jsx)(W.a.Label,{children:"Email address"}),Object(v.jsx)(W.a.Control,{required:!0,type:"email",placeholder:"Enter Email",value:s.email,isInvalid:!!d.email,onChange:function(e){return p(e.target.value,"email")}}),Object(v.jsx)(W.a.Control.Feedback,{type:d.email?"invalid":"valid",children:d.email})]}),Object(v.jsx)(W.a.Row,{children:Object(v.jsx)(x.a,{md:12,children:Object(v.jsxs)(W.a.Group,{children:[Object(v.jsx)(W.a.Label,{children:"Full Name"}),Object(v.jsx)(W.a.Control,{required:!0,type:"text",placeholder:"Enter Full Name",value:s.fullName,isInvalid:!!d.fullName,onChange:function(e){return p(e.target.value,"fullName")}}),Object(v.jsx)(W.a.Control.Feedback,{type:d.fullName?"invalid":"valid",children:d.fullName})]})})}),Object(v.jsx)(W.a.Row,{children:Object(v.jsx)(x.a,{xl:12,md:12,children:Object(v.jsxs)(W.a.Group,{children:[Object(v.jsx)(W.a.Label,{children:"Gender"}),Object(v.jsx)(W.a.Control,{required:!0,as:"select",value:s.gender,isInvalid:!!d.gender,onChange:function(e){return p(e.target.value,"gender")},children:h.map((function(e){return Object(v.jsx)("option",{value:e.id,children:e.name},e.id)}))}),Object(v.jsx)(W.a.Control.Feedback,{type:d.gender?"invalid":"valid",children:d.gender})]})})}),Object(v.jsxs)(W.a.Group,{children:[Object(v.jsx)(W.a.Label,{children:"Password"}),Object(v.jsx)(W.a.Control,{required:!0,type:"password",placeholder:"Password",value:s.password,isInvalid:!!d.password,onChange:function(e){return p(e.target.value,"password")}}),Object(v.jsx)(W.a.Control.Feedback,{type:d.password?"invalid":"valid",children:d.password})]}),Object(v.jsxs)(W.a.Group,{children:[Object(v.jsx)(W.a.Label,{children:"Confirm Password"}),Object(v.jsx)(W.a.Control,{required:!0,type:"password",placeholder:"Confirm Password",value:s.confirmPassword,isInvalid:!!d.confirmPassword,onChange:function(e){return p(e.target.value,"confirmPassword")}}),Object(v.jsx)(W.a.Control.Feedback,{type:d.confirmPassword?"invalid":"valid",children:d.confirmPassword})]}),Object(v.jsx)(W.a.Row,{className:"justify-content-end",children:Object(v.jsx)(C.a,{className:"ml-3",variant:"primary",onClick:g,children:"Register"})}),Object(v.jsxs)(W.a.Row,{className:"flex-direction-column",children:[Object(v.jsx)("hr",{className:"w-100"}),Object(v.jsx)(W.a.Text,{className:"text-muted mx-auto",children:Object(v.jsx)("span",{className:"cursor-pointer hover-underline",onClick:function(){return t.push("/auth/login")},children:"Already registered?"})})]})]})})]})})})));var pt=Object(l.g)(Object(ae.a)((function(e){var t=e.user,a=e.history,c=e.logoutUserAction,r=Object(n.useState)(Je()),s=Object(u.a)(r,1)[0];return Object(v.jsxs)("div",{className:"vh-100 vw-100",children:[Object(v.jsxs)(d.a,{bg:"dark",variant:"dark",expand:"md",children:[Object(v.jsx)(d.a.Brand,{children:Object(v.jsx)("span",{className:"cursor-pointer",onClick:function(){return a.push("/")},children:"Video Watching"})}),Object(v.jsx)(d.a.Toggle,{}),Object(v.jsx)(d.a.Collapse,{className:"justify-content-end",children:Object(v.jsxs)(j.a,{className:"ml-auto mr-3",children:[t?Object(v.jsx)(j.a.Link,{className:"ml-2",onClick:function(){return a.push(Object(dt.b)())},children:"Go to Dashboard"}):null,Object(v.jsxs)("div",{className:"d-flex",children:[Object(v.jsx)(Qe,{className:"my-auto mr-1",value:s,onChange:function(e){return Ve(e.target.checked)}}),Object(v.jsx)(j.a.Link,{disabled:!0,className:"px-0",children:"Dark Theme"})]}),t?Object(v.jsx)(j.a.Link,{className:"ml-2",onClick:c,children:"Log out"}):Object(v.jsx)(j.a.Link,{className:"ml-2",onClick:function(){return a.push("/auth/login")},children:"Log in"})]})})]}),Object(v.jsx)("main",{className:"container",children:Object(v.jsxs)(l.d,{children:[Object(v.jsx)(l.b,{exact:!0,path:"/",component:ut}),Object(v.jsx)(l.b,{path:"/auth",children:Object(v.jsxs)(l.d,{children:[Object(v.jsx)(l.b,{exact:!0,path:"/auth/login",component:jt}),Object(v.jsx)(l.b,{exact:!0,path:"/auth/forgot-password",component:bt}),Object(v.jsx)(l.b,{path:"/auth/reset-password",component:Ot}),Object(v.jsx)(l.b,{exact:!0,path:"/auth/register",component:ft})]})}),Object(v.jsx)(l.b,{path:"/",children:Object(v.jsx)(l.a,{to:"/"})})]})})]})}))),gt=a(410),vt=Object(ae.c)((function(e){var t=e.toasts,a=e.removeToastAction;return Object(v.jsx)("div",{style:{width:300,position:"fixed",right:5,top:60,zIndex:9999},className:"d-flex flex-column align-items-end",children:t.map((function(e,t){return Object(v.jsxs)(gt.a,{className:"w-100",style:{flexBasis:"unset"},animation:!0,onClose:function(){return a(e.id)},children:[Object(v.jsx)(gt.a.Header,{className:qe()({"bg-success":e.status===ce.a.Success,"bg-danger":e.status===ce.a.Danger,"bg-warning":e.status===ce.a.Warning,"bg-info":e.status===ce.a.Info}),children:Object(v.jsx)("strong",{className:"text-white mr-auto",children:e.title})}),Object(v.jsx)(gt.a.Body,{children:e.description})]},t)}))})}));var yt=Object(l.g)(Object(ae.b)((function(e){var t=e.history,a=e.tokenVerified,c=e.authenticated,r=e.userRole,s=e.verifyAccessTokenAction;return Object(n.useEffect)((function(){s(t,!1)})),Object(v.jsx)(n.Fragment,{children:a?Object(v.jsxs)(n.Fragment,{children:[Object(v.jsx)(vt,{}),Object(v.jsxs)(l.d,{children:[Object(v.jsx)(l.b,{path:"/admin",children:c&&Object(dt.c)(r)?Object(v.jsx)(tt,{}):Object(v.jsx)(l.a,{to:"/"})}),Object(v.jsx)(l.b,{path:"/customer",children:c&&!Object(dt.c)(r)?Object(v.jsx)(ot,{}):Object(v.jsx)(l.a,{to:"/"})}),Object(v.jsx)(l.b,{path:"/",children:Object(v.jsx)(pt,{})})]})]}):Object(v.jsx)(k,{})})}))),Nt=a(59),wt=a(200),Ct=a(13),St={user:void 0,forgotPasswordEmail:"",loading:!1,error:""},kt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:St,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ct.d:return Object(D.a)(Object(D.a)({},e),{},{user:null,loading:!0,error:""});case Ct.f:return Object(D.a)(Object(D.a)({},e),{},{loading:!1,user:null,error:""});case Ct.e:return Object(D.a)(Object(D.a)({},e),{},{loading:!1,user:null,error:t.payload.message});case Ct.q:return Object(D.a)(Object(D.a)({},e),{},{loading:!0,error:""});case Ct.s:return Object(D.a)(Object(D.a)({},e),{},{loading:!1,user:t.payload.user,error:""});case Ct.r:return Object(D.a)(Object(D.a)({},e),{},{loading:!1,user:null,error:t.payload.message});case Ct.a:return Object(D.a)(Object(D.a)({},e),{},{loading:!0,error:""});case Ct.c:return Object(D.a)(Object(D.a)({},e),{},{loading:!1,forgotPasswordEmail:t.payload.email,error:""});case Ct.b:return Object(D.a)(Object(D.a)({},e),{},{loading:!1,forgotPasswordEmail:"",error:t.payload.message});case Ct.k:return Object(D.a)(Object(D.a)({},e),{},{loading:!0,error:""});case Ct.m:return Object(D.a)(Object(D.a)({},e),{},{loading:!1,error:""});case Ct.l:return Object(D.a)(Object(D.a)({},e),{},{loading:!1,error:t.payload.message});case Ct.h:return Object(D.a)(Object(D.a)({},e),{},{loading:!0,error:""});case Ct.j:return Object(D.a)(Object(D.a)({},e),{},{loading:!1,error:""});case Ct.i:return Object(D.a)(Object(D.a)({},e),{},{loading:!1,error:t.payload.message});case Ct.g:return Object(D.a)(Object(D.a)({},e),{},{user:null,error:""});default:return Object(D.a)({},e)}},It={toasts:[]},Et=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:It,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ct.n:return{toasts:e.toasts.concat([{id:t.payload.id,title:t.payload.title,status:t.payload.status,description:t.payload.description,createdAt:new Date}])};case Ct.o:var a=JSON.parse(JSON.stringify(e.toasts)),n=a.findIndex((function(e){return e.id===t.payload.id}));return n>=0?(a.splice(n,1),{toasts:a}):e;case Ct.p:return{toasts:[]};default:return e}},At=Object(Nt.b)({authReducer:kt,toastReducer:Et}),Tt=a(17),Pt=a(32),Rt=ue.a.mark(Jt),qt=ue.a.mark(_t),Dt=ue.a.mark(Yt),Bt=ue.a.mark(Zt),Lt=ue.a.mark($t),Ut=ue.a.mark(ea),Gt=ue.a.mark(ta),zt=ue.a.mark(na),Ft=ue.a.mark(ca),Ht=ue.a.mark(sa),Qt=ue.a.mark(ia),Wt=ue.a.mark(la),Vt=ue.a.mark(ua);function Jt(){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Tt.e)(Ct.d,_t);case 2:case"end":return e.stop()}}),Rt)}var Mt=function(){var e=Object(de.a)(ue.a.mark((function e(t,a){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xt.signInWithEmailAndPassword(t,a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();function _t(e){var t,a,n,c,r;return ue.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return t=e.payload,a=t.loginUserDto,n=a.email,c=a.password,r=t.history,xt.signOut(),s.prev=4,s.next=7,Object(Tt.b)(Mt,n,c);case 7:return s.next=9,Object(Tt.d)(Object(Pt.e)());case 9:return s.next=11,Object(Tt.d)(Object(Pt.k)(r));case 11:s.next=17;break;case 13:return s.prev=13,s.t0=s.catch(4),s.next=17,Object(Tt.d)(Object(Pt.d)(s.t0));case 17:case"end":return s.stop()}}),qt,null,[[4,13]])}function Yt(){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Tt.e)(Ct.q,Zt);case 2:case"end":return e.stop()}}),Dt)}var Kt=function(){var e=Object(de.a)(ue.a.mark((function e(){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xt.verifyAccessToken();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function Zt(e){var t,a,n,c,r,s;return ue.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return t=e.payload,a=t.history,n=t.forceRedirect,i.prev=2,i.next=5,Object(Tt.b)(Kt);case 5:if(c=i.sent,r=c.user,s=c.message,!r){i.next=14;break}return i.next=11,Object(Tt.d)(Object(Pt.m)(r));case 11:n&&a.replace(Object(dt.b)()),i.next=16;break;case 14:return i.next=16,Object(Tt.d)(Object(Pt.l)(s));case 16:i.next=22;break;case 18:return i.prev=18,i.t0=i.catch(2),i.next=22,Object(Tt.d)(Object(Pt.l)(i.t0));case 22:case"end":return i.stop()}}),Bt,null,[[2,18]])}function $t(){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Tt.e)(Ct.h,ea);case 2:case"end":return e.stop()}}),Lt)}var Xt=function(){var e=Object(de.a)(ue.a.mark((function e(t){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xt.registerUser(t).then((function(e){return e})).catch((function(e){return e}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function ea(e){var t,a,n;return ue.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.payload,a=t.history,c.prev=2,c.next=5,Object(Tt.b)(Xt,t.registerUserDto);case 5:if((n=c.sent).success){c.next=12;break}return c.next=9,Object(Tt.d)(Object(Pt.h)());case 9:a.push("/auth/login"),c.next=14;break;case 12:return c.next=14,Object(Tt.d)(Object(Pt.g)(n.message));case 14:c.next=20;break;case 16:return c.prev=16,c.t0=c.catch(2),c.next=20,Object(Tt.d)(Object(Pt.g)(c.t0));case 20:case"end":return c.stop()}}),Ut,null,[[2,16]])}function ta(){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Tt.e)(Ct.g,na);case 2:case"end":return e.stop()}}),Gt)}var aa=function(){var e=Object(de.a)(ue.a.mark((function e(t){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:xt.signOut(),t.replace("/");case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function na(e){var t,a;return ue.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.payload,a=t.history,n.prev=2,n.next=5,Object(Tt.b)(aa,a);case 5:n.next=9;break;case 7:n.prev=7,n.t0=n.catch(2);case 9:case"end":return n.stop()}}),zt,null,[[2,7]])}function ca(){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Tt.e)(Ct.a,sa);case 2:case"end":return e.stop()}}),Ft)}var ra=function(){var e=Object(de.a)(ue.a.mark((function e(t){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xt.sendPasswordResetEmail(t).then((function(e){return e})).catch((function(e){return e}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function sa(e){var t,a,n;return ue.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.payload,a=t.forgotPasswordDto.email,c.prev=2,c.next=5,Object(Tt.b)(ra,a);case 5:if((n=c.sent).success){c.next=11;break}return c.next=9,Object(Tt.d)(Object(Pt.b)(a));case 9:c.next=13;break;case 11:return c.next=13,Object(Tt.d)(Object(Pt.a)(n.message));case 13:c.next=19;break;case 15:return c.prev=15,c.t0=c.catch(2),c.next=19,Object(Tt.d)(Object(Pt.a)(c.t0));case 19:case"end":return c.stop()}}),Ht,null,[[2,15]])}function ia(){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Tt.e)(Ct.k,la);case 2:case"end":return e.stop()}}),Qt)}var oa=function(){var e=Object(de.a)(ue.a.mark((function e(t,a){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xt.confirmPasswordReset(t,a).then((function(e){return e})).catch((function(e){return e}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();function la(e){var t,a,n,c;return ue.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload,a=t.resetPasswordDto.password,n=t.history,r.prev=3,r.next=6,Object(Tt.b)(oa,a);case 6:if((c=r.sent).success){r.next=13;break}return r.next=10,Object(Tt.d)(Object(Pt.j)());case 10:n.push("/auth/login"),r.next=15;break;case 13:return r.next=15,Object(Tt.d)(Object(Pt.i)(c.message));case 15:r.next=21;break;case 17:return r.prev=17,r.t0=r.catch(3),r.next=21,Object(Tt.d)(Object(Pt.i)(r.t0));case 21:case"end":return r.stop()}}),Wt,null,[[3,17]])}function ua(){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Tt.a)([Object(Tt.c)(Jt),Object(Tt.c)(Yt),Object(Tt.c)(ta),Object(Tt.c)($t),Object(Tt.c)(ca),Object(Tt.c)(ia)]);case 2:case"end":return e.stop()}}),Vt)}var da=a(84),ja=ue.a.mark(ha),ba=ue.a.mark(xa),Oa=ue.a.mark(fa);function ha(){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Tt.e)(Ct.n,xa);case 2:case"end":return e.stop()}}),ja)}var ma=function(e){return new Promise((function(t){return setTimeout(t,e)}))};function xa(e){var t,a;return ue.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.payload,a=t.id,n.next=4,Object(Tt.b)(ma,5e3);case 4:return n.next=6,Object(Tt.d)(Object(da.b)(a));case 6:case"end":return n.stop()}}),ba)}function fa(){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Tt.a)([Object(Tt.c)(ha)]);case 2:case"end":return e.stop()}}),Oa)}var pa=ue.a.mark(ga);function ga(e){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Tt.a)([ua(),fa()]);case 2:case"end":return e.stop()}}),pa)}var va=Object(wt.a)(),ya=[va],Na=Object(Nt.d)(At,Object(Nt.c)(Nt.a.apply(void 0,ya)));va.run(ga);var wa=Na,Ca=function(e){e&&e instanceof Function&&a.e(18).then(a.bind(null,501)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),n(e),c(e),r(e),s(e)}))};i.a.render(Object(v.jsx)(r.a,{store:wa,children:Object(v.jsx)(o.a,{children:Object(v.jsx)(n.Suspense,{fallback:Object(v.jsx)(k,{}),children:Object(v.jsx)(yt,{})})})}),document.getElementById("root")),Ca()},58:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n={Light:"LIGHT",Dark:"DARK"}},84:function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return s}));var n=a(13),c=a(16),r=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c.a.Info;return{type:n.n,payload:{title:e,description:t,status:a,id:"toast-".concat((new Date).getTime())}}},s=function(e){return{type:n.o,payload:{id:e}}}}},[[203,4,5]]]);
//# sourceMappingURL=main.98dba50a.chunk.js.map