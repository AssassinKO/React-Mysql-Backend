(this["webpackJsonplearningxl-frontend"]=this["webpackJsonplearningxl-frontend"]||[]).push([[2],{534:function(e,t,c){"use strict";var n=c(40),r=c(25),a="".concat(r.a,"/watch-histories"),s={getAll:function(e){var t=e.page,c=e.perPage,r=e.userId,s="".concat(a,"?page=").concat(t,"&perPage=").concat(c);return r&&(s+="&userId=".concat(r)),n.default.get(s)},getOne:function(e){var t=e.id;return n.default.get("".concat(a,"/").concat(t))},remove:function(e){var t=e.id,c="".concat(a,"/").concat(t);return n.default.delete(c)}};t.a=s},613:function(e,t,c){"use strict";c.r(t);var n=c(10),r=c(0),a=c(18),s=c(502),i=c(512),l=c(510),d=c(236),o=c(171),j=c(29),u=c(30),b=c(66),h=c(147),O=c(26),x=c(19),f=c(44),m=c(534),p=c(40),g=c(25),v="".concat(g.a,"/popup-histories"),k={getOne:function(e){var t=e.id;return p.default.get("".concat(v,"/").concat(t))},remove:function(e){var t=e.id,c="".concat(v,"/").concat(t);return p.default.delete(c)}},N=(c(35),c(1));function A(e){var t=e.match,c=e.history,a=e.addToastAction,O=(e.user,t.params.reportId),p=Object(r.useState)(0),g=Object(n.a)(p,2),v=g[0],A=g[1],C=Object(r.useState)(null),S=Object(n.a)(C,2),y=S[0],D=S[1],F=Object(r.useState)(null),R=Object(n.a)(F,2),w=R[0],z=R[1],P=Object(r.useState)(!1),B=Object(n.a)(P,2),I=B[0],E=B[1],J=Object(r.useState)(null),U=Object(n.a)(J,2),V=U[0],H=U[1],T=Object(r.useState)(!1),q=Object(n.a)(T,2),G=q[0],K=q[1];return Object(r.useEffect)((function(){m.a.getOne({id:O}).then((function(e){console.log(e.data),D(e.data)}),(function(e){return a("Error",e.error,x.a.Danger)}))}),[O,v]),y?Object(N.jsxs)(i.a,{children:[Object(N.jsx)(l.a,{children:Object(N.jsx)(d.a,{children:Object(N.jsx)(o.a,{variant:"link",onClick:function(){return c.goBack()},children:Object(N.jsx)("span",{className:"h6",children:"Back"})})})}),Object(N.jsx)(l.a,{className:"mb-5",children:Object(N.jsx)(d.a,{children:Object(N.jsx)("h1",{className:"text-center text-primary",children:"Report"})})}),Object(N.jsx)(l.a,{className:"",children:Object(N.jsxs)(d.a,{children:[Object(N.jsxs)("p",{children:["User name: \xa0",Object(N.jsx)(b.b,{to:"/admin/users/view/".concat(y.user.id),title:y.user.fullName,children:"".concat(y.user.fullName).substr(0,20)})]}),Object(N.jsxs)("p",{children:["Played at: ",Object(h.d)(y.createdAt)]}),Object(N.jsxs)("div",{children:[Object(N.jsxs)("p",{className:"float-left",children:["Finished:",Object(N.jsx)(j.a,{className:"cursor-pointer text-danger ml-2",size:"lg","aria-disabled":!0,icon:y.isFinished?u.c:u.e,title:y.isFinished?"Finished":"Didnt Finished"})]}),Object(N.jsxs)("p",{className:"float-right mr-2",children:[Object(N.jsx)(o.a,{variant:"outline-danger",size:"sm",onClick:function(e){return[E(!0),z(e.target)]},children:"Remove"})," "]})]})]})}),Object(N.jsx)(l.a,{children:Object(N.jsx)(d.a,{children:Object(N.jsxs)(s.a,{children:[Object(N.jsx)("thead",{children:Object(N.jsxs)("tr",{children:[Object(N.jsx)("th",{children:"#"}),Object(N.jsx)("th",{children:"Started At"}),Object(N.jsx)("th",{children:"Updated At"}),Object(N.jsx)("th",{className:"text-center",children:"Clicked"}),Object(N.jsx)("th",{className:"text-center",children:"Actions"})]})}),Object(N.jsx)("tbody",{children:y.popupHistories.map((function(e,t){return Object(N.jsxs)("tr",{children:[Object(N.jsx)("td",{children:t+1}),Object(N.jsx)("td",{children:Object(h.b)(e.createdAt)}),Object(N.jsx)("td",{children:e.isClicked&&Object(h.b)(e.updatedAt)}),Object(N.jsx)("td",{className:"text-center",children:Object(N.jsx)(j.a,{className:"cursor-pointer text-danger ml-2",size:"lg","aria-disabled":!0,icon:e.isClicked?u.o:u.e,title:e.isClicked?"Clicked":"Didnt Clicked"})}),Object(N.jsx)("td",{className:"text-center",children:Object(N.jsx)(j.a,{className:"cursor-pointer text-danger ml-2",size:"lg",icon:u.m,onClick:function(t){K(!0),A(e.id),H(t.target)},title:"Remove"})})]},t)}))})]})})}),Object(N.jsx)(f.a,{visible:G,target:V,setVisibility:function(){return K(!1)},label:"Are you sure to delete this report?",onConfirm:function(){k.remove(v).then((function(){a("Alert","Remove success",x.a.Success)})).catch((function(e){a("Alert",e.error,x.a.Danger)}))}}),Object(N.jsx)(f.a,{visible:I,target:w,setVisibility:function(){return E(!1)},label:"Are you sure to delete this report?",onConfirm:function(){m.a.remove(O).then((function(){a("Alert","Remove success",x.a.Success),c.goBack()})).catch((function(e){a("Alert",e.error,x.a.Danger)}))}})]}):null}A.defaultProps={id:0};t.default=Object(a.g)(Object(O.c)(Object(O.a)(A)))}}]);
//# sourceMappingURL=2.502e6a7b.chunk.js.map