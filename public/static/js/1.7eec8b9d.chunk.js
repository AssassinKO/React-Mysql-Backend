(this["webpackJsonplearningxl-frontend"]=this["webpackJsonplearningxl-frontend"]||[]).push([[1],{424:function(e,t,c){"use strict";var s=c(34),n=c(21),a="".concat(n.a,"/watch-histories"),i={getAll:function(e){var t=e.page,c=e.perPage,n=e.userId,i="".concat(a,"?page=").concat(t,"&perPage=").concat(c);return n&&(i+="&userId=".concat(n)),s.default.get(i)},getOne:function(e){var t=e.id;return s.default.get("".concat(a,"/").concat(t))},remove:function(e){var t=e.id,c="".concat(a,"/").concat(t);return s.default.delete(c)}};t.a=i},427:function(e,t,c){"use strict";var s=c(2),n=c(3),a=c(5),i=c.n(a),r=c(1),l=c.n(r),j=c(9),o=l.a.forwardRef((function(e,t){var c=e.bsPrefix,a=e.size,r=e.toggle,o=e.vertical,d=e.className,b=e.as,u=void 0===b?"div":b,O=Object(n.a)(e,["bsPrefix","size","toggle","vertical","className","as"]),h=Object(j.a)(c,"btn-group"),x=h;return o&&(x=h+"-vertical"),l.a.createElement(u,Object(s.a)({},O,{ref:t,className:i()(d,x,a&&h+"-"+a,r&&h+"-toggle")}))}));o.displayName="ButtonGroup",o.defaultProps={vertical:!1,toggle:!1,role:"group"},t.a=o},498:function(e,t,c){"use strict";c.r(t);var s=c(7),n=c(8),a=c(1),i=c.n(a),r=c(15),l=c(392),j=c(35),o=c(402),d=c(400),b=c(191),u=c(137),O=c(405),h=c(427),x=c(54),p=c(415),m=c(25),f=c(26),g=c(22),v=c(16),N=c(30),C=c(39),A=c(424),k=c(141),P=c(121),w=c(0);function S(e){var t=e.addToastAction,c=e.history,r=e.match,g=e.user,S=r.params.id,y=Object(a.useState)({createdAt:"",email:"",fullName:"",gender:"",id:0,role:"",updatedAt:""}),I=Object(n.a)(y,2),z=I[0],F=I[1],R=Object(a.useState)([]),H=Object(n.a)(R,2),V=H[0],B=H[1],E=Object(a.useState)(1),L=Object(n.a)(E,2),D=L[0],G=L[1],J=Object(a.useState)(0),K=Object(n.a)(J,2),T=K[0],U=K[1],q=Object(a.useState)(null),M=Object(n.a)(q,2),Q=M[0],W=M[1],X=Object(a.useState)(!1),Y=Object(n.a)(X,2),Z=Y[0],$=Y[1],_=Object(a.useState)({pagesCount:1,groupsCount:10}),ee=Object(n.a)(_,2),te=ee[0],ce=ee[1],se=function(){k.a.getOne({id:S}).then((function(e){var t=e.data;F(t)})),A.a.getAll({page:D,perPage:te.groupsCount,userId:S}).then((function(e){ce(Object(s.a)(Object(s.a)({},te),{},{pagesCount:e.totalPages})),B(e.data)}))};Object(a.useEffect)((function(){se()}),[D,te.groupsCount,S]);var ne=function(e){return g.role===N.b.Admin?Object(w.jsxs)(i.a.Fragment,{children:[Object(w.jsx)(j.b,{to:"/admin/reports/view/".concat(e.id),title:"View",children:Object(w.jsx)(m.a,{className:"cursor-pointer text-info mr-2",size:"lg",icon:f.f})}),Object(w.jsx)(m.a,{className:"cursor-pointer text-danger ml-2",size:"lg",icon:f.m,onClick:function(t){$(!0),U(e.id),W(t.target)},title:"Remove"})]}):Object(w.jsx)(i.a.Fragment,{children:Object(w.jsx)(j.b,{to:"/customer/users/".concat(g.id,"/reports/").concat(e.id),title:"View",children:Object(w.jsx)(m.a,{className:"cursor-pointer text-info mr-2",size:"lg",icon:f.f})})})};return Object(w.jsxs)(o.a,{className:"pt-4",children:[Object(w.jsx)(d.a,{children:Object(w.jsx)(b.a,{children:Object(w.jsx)(u.a,{variant:"link",onClick:function(){return c.goBack()},children:Object(w.jsx)("span",{className:"h6",children:"Back"})})})}),Object(w.jsx)(d.a,{className:"mb-5",children:Object(w.jsx)(b.a,{children:Object(w.jsxs)("h1",{className:"text-center text-primary",children:["User: ",z.fullName]})})}),Object(w.jsxs)(d.a,{children:[Object(w.jsx)(b.a,{children:Object(w.jsxs)("p",{children:[Object(w.jsx)("span",{children:"Email: "}),Object(w.jsx)("span",{className:"",children:z.email})]})}),Object(w.jsx)(b.a,{children:Object(w.jsxs)("p",{children:[Object(w.jsx)("span",{children:"Gender: "}),Object(w.jsx)("span",{className:"",children:z.gender})]})})]}),Object(w.jsxs)(d.a,{children:[Object(w.jsx)(b.a,{children:Object(w.jsxs)("p",{children:[Object(w.jsx)("span",{children:"Role: "}),Object(w.jsx)("span",{className:"",children:z.role})]})}),Object(w.jsx)(b.a,{children:Object(w.jsxs)("p",{children:[Object(w.jsx)("span",{children:"Registed At: "}),Object(w.jsx)("span",{className:"",children:Object(P.f)(z.createdAt)})]})})]}),Object(w.jsxs)("div",{children:[Object(w.jsx)("div",{className:"text-right",children:Object(w.jsx)("div",{className:"mb-2",children:Object(w.jsx)(O.a,{as:h.a,id:"dropdown-variants-".concat("Info"),variant:"Info".toLowerCase(),title:"Page",onChange:function(e){console.log("ad",e)},children:[10,20,50,100].map((function(e){return Object(w.jsx)(x.a.Item,{eventKey:e,onSelect:function(e){ce(Object(s.a)(Object(s.a)({},te),{},{groupsCount:e}))},children:e},e)}))},"Info")})}),Object(w.jsxs)(l.a,{children:[Object(w.jsx)("thead",{children:Object(w.jsxs)("tr",{children:[Object(w.jsx)("th",{children:"#"}),Object(w.jsx)("th",{children:"Video"}),Object(w.jsx)("th",{className:"text-center",children:"Popup Clicked"}),Object(w.jsx)("th",{className:"text-center",children:"Popup Lost"}),Object(w.jsx)("th",{className:"text-center",children:"Completed"}),Object(w.jsx)("th",{children:"Started At"}),Object(w.jsx)("th",{children:"Finished At"}),Object(w.jsx)("th",{className:"text-center",children:"Actions"})]})}),Object(w.jsx)("tbody",{children:V.map((function(e,t){return Object(w.jsxs)("tr",{children:[console.log("item",e),Object(w.jsx)("td",{children:t+1}),Object(w.jsx)("td",{children:g.role===N.b.Admin?Object(w.jsx)(j.b,{to:"/admin/videos/view/".concat(e.video.id),title:e.video.title,children:"".concat(e.video.title).substr(0,10)}):Object(w.jsx)(j.b,{to:"/customer/videos/view/".concat(e.video.id),title:e.video.title,children:"".concat(e.video.title).substr(0,10)})}),Object(w.jsx)("td",{className:"text-center",children:Object(P.c)(e.popupHistories)}),Object(w.jsx)("td",{className:"text-center",children:Object(P.d)(e.popupHistories)}),Object(w.jsx)("td",{className:"text-center",children:Object(w.jsx)(m.a,{className:"cursor-pointer text-info mr-2",size:"lg","aria-disabled":!0,icon:e.isFinished&&0===Object(P.d)(e.popupHistories)?f.c:f.l,title:e.isFinished&&0===Object(P.d)(e.popupHistories)?"Completed":"Didnt completed"})}),Object(w.jsx)("td",{children:Object(P.b)(e.createdAt)}),Object(w.jsx)("td",{children:Object(P.b)(e.updatedAt)}),Object(w.jsx)("td",{className:"text-center",children:ne(e)})]},t)}))})]}),Object(w.jsx)(d.a,{className:"justify-content-end",children:Object(w.jsx)(b.a,{children:Object(w.jsxs)(p.a,{className:"float-right",children:[Object(w.jsx)(p.a.First,{disabled:D<=1,onClick:function(){return G(1)}}),Object(w.jsx)(p.a.Prev,{disabled:D<=1,onClick:function(){return G(D-1)}}),Object(w.jsx)(p.a.Item,{active:!0,children:D}),Object(w.jsx)(p.a.Next,{disabled:D>=te.pagesCount,onClick:function(){return G(D+1)}}),Object(w.jsx)(p.a.Last,{disabled:D>=te.pagesCount,onClick:function(){return G(te.pagesCount)}})]})})})]}),Object(w.jsx)(C.a,{visible:Z,target:Q,setVisibility:function(){return $(!1)},label:"Are you sure to delete this report?",onConfirm:function(){A.a.remove({id:T}).then((function(e){e.success&&(t("Alert","Remove success",v.a.Success),se())})).catch((function(e){t("Alert",e.error,v.a.Danger)}))}})]})}S.defaultProps={},t.default=Object(r.g)(Object(g.c)(Object(g.a)(S)))}}]);
//# sourceMappingURL=1.7eec8b9d.chunk.js.map