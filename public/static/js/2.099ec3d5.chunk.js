(this["webpackJsonplearningxl-frontend"]=this["webpackJsonplearningxl-frontend"]||[]).push([[2],{424:function(e,t,c){"use strict";var n=c(34),r=c(21),i="".concat(r.a,"/watch-histories"),s={getAll:function(e){var t=e.page,c=e.perPage,r=e.userId,s="".concat(i,"?page=").concat(t,"&perPage=").concat(c);return r&&(s+="&userId=".concat(r)),n.default.get(s)},getOne:function(e){var t=e.id;return n.default.get("".concat(i,"/").concat(t))},remove:function(e){var t=e.id,c="".concat(i,"/").concat(t);return n.default.delete(c)}};t.a=s},503:function(e,t,c){"use strict";c.r(t);var n=c(8),r=c(1),i=c(15),s=c(392),a=c(402),l=c(400),d=c(191),o=c(137),j=c(25),u=c(26),b=c(35),h=c(121),O=c(22),x=c(16),f=c(39),m=c(424),p=c(34),g=c(21),v="".concat(g.a,"/popup-histories"),k={getOne:function(e){var t=e.id;return p.default.get("".concat(v,"/").concat(t))},remove:function(e){var t=e.id,c="".concat(v,"/").concat(t);return p.default.delete(c)}},A=c(30),N=c(0);function C(e){var t=e.match,c=e.history,i=e.addToastAction,O=e.user,p=t.params.reportId,g=Object(r.useState)(0),v=Object(n.a)(g,2),C=v[0],S=v[1],y=Object(r.useState)(null),F=Object(n.a)(y,2),D=F[0],R=F[1],w=Object(r.useState)(null),z=Object(n.a)(w,2),P=z[0],B=z[1],I=Object(r.useState)(!1),E=Object(n.a)(I,2),J=E[0],V=E[1],H=Object(r.useState)(null),T=Object(n.a)(H,2),U=T[0],q=T[1],G=Object(r.useState)(!1),K=Object(n.a)(G,2),L=K[0],M=K[1];return Object(r.useEffect)((function(){m.a.getOne({id:p}).then((function(e){R(e.data)}),(function(e){return i("Error",e.error,x.a.Danger)}))}),[p,C]),D?Object(N.jsxs)(a.a,{children:[Object(N.jsx)(l.a,{children:Object(N.jsx)(d.a,{children:Object(N.jsx)(o.a,{variant:"link",onClick:function(){return c.goBack()},children:Object(N.jsx)("span",{className:"h6",children:"Back"})})})}),Object(N.jsx)(l.a,{className:"mb-5",children:Object(N.jsx)(d.a,{children:Object(N.jsx)("h1",{className:"text-center text-primary",children:"Report"})})}),Object(N.jsx)(l.a,{className:"",children:Object(N.jsxs)(d.a,{children:[Object(N.jsxs)("p",{children:["User name: \xa0",Object(N.jsx)(b.b,{to:"/admin/users/view/".concat(D.user.id),title:D.user.fullName,children:"".concat(D.user.fullName).substr(0,20)})]}),Object(N.jsxs)("p",{children:["Played at: ",Object(h.f)(D.createdAt)]}),Object(N.jsxs)("div",{children:[Object(N.jsxs)("p",{className:"float-left",children:["Finished:",Object(N.jsx)(j.a,{className:"cursor-pointer ml-2",size:"lg","aria-disabled":!0,color:D.isFinished?"green":"red",icon:D.isFinished?u.c:u.e,title:D.isFinished?"Finished":"Didnt Finished"})]}),O.role===A.b.Admin&&Object(N.jsxs)("p",{className:"float-right mr-2",children:[Object(N.jsx)(o.a,{variant:"outline-danger",size:"sm",onClick:function(e){return[q(e.target),M(!0)]},children:"Remove"})," "]})]})]})}),Object(N.jsx)(l.a,{children:Object(N.jsx)(d.a,{children:Object(N.jsxs)(s.a,{children:[Object(N.jsx)("thead",{children:Object(N.jsxs)("tr",{children:[Object(N.jsx)("th",{children:"#"}),Object(N.jsx)("th",{children:"Started At"}),Object(N.jsx)("th",{children:"Clicked At"}),Object(N.jsx)("th",{className:"text-center",children:"Clicked"}),O.role===A.b.Admin&&Object(N.jsx)("th",{className:"text-center",children:"Actions"})]})}),Object(N.jsx)("tbody",{children:D.popupHistories.map((function(e,t){return Object(N.jsxs)("tr",{children:[Object(N.jsx)("td",{children:t+1}),Object(N.jsx)("td",{children:Object(h.b)(e.createdAt)}),Object(N.jsx)("td",{children:e.isClicked&&Object(h.b)(e.updatedAt)}),Object(N.jsx)("td",{className:"text-center",children:Object(N.jsx)(j.a,{className:"cursor-pointer ml-2",size:"lg","aria-disabled":!0,color:e.isClicked?"green":"red",icon:e.isClicked?u.o:u.e,title:e.isClicked?"Clicked":"Didnt Clicked"})}),O.role===A.b.Admin&&Object(N.jsx)("td",{className:"text-center",children:Object(N.jsx)(j.a,{className:"cursor-pointer text-danger ml-2",size:"lg",icon:u.m,onClick:function(t){return[S(e.id),V(!0),B(t.target)]},title:"Remove"})})]},t)}))})]})})}),Object(N.jsx)(f.a,{visible:L,target:U,setVisibility:function(){return M(!1)},label:"Are you sure to delete this report?",onConfirm:function(){m.a.remove({id:p}).then((function(){i("Alert","Remove success",x.a.Success),c.goBack()})).catch((function(e){i("Alert",e.error,x.a.Danger)}))}}),Object(N.jsx)(f.a,{visible:J,target:P,setVisibility:function(){return V(!1)},label:"Are you sure to delete this popup result?",onConfirm:function(){k.remove({id:C}).then((function(){i("Alert","Remove success",x.a.Success),S(0)})).catch((function(e){i("Alert",e.error,x.a.Danger)}))}})]}):null}C.defaultProps={id:0};t.default=Object(i.g)(Object(O.c)(Object(O.a)(C)))}}]);
//# sourceMappingURL=2.099ec3d5.chunk.js.map